var mUtil,mLayout,mQuickSidebar,mApp=function(){var a=function(a){var b=a.data("skin")?"m-tooltip--skin-"+a.data("skin"):"";a.tooltip({trigger:"hover",template:'<div class="m-tooltip '+b+' tooltip" role="tooltip">                <div class="arrow"></div>                <div class="tooltip-inner"></div>            </div>'})},b=function(){$('[data-toggle="m-tooltip"]').each(function(){a($(this))})},c=function(a){var b=a.data("skin")?"m-popover--skin-"+a.data("skin"):"";a.popover({trigger:"hover",template:'            <div class="m-popover '+b+' popover" role="tooltip">                <div class="arrow"></div>                <h3 class="popover-header"></h3>                <div class="popover-body"></div>            </div>'})},d=function(){$('[data-toggle="m-popover"]').each(function(){c($(this))})},e=function(a,b){a.mPortlet(b)},f=function(){$('[data-portlet="true"]').each(function(){var a=$(this);a.data("portlet-initialized")!==!0&&(e(a,{}),a.data("portlet-initialized",!0))})},g=function(){$('[data-scrollable="true"]').each(function(){var a,b,c=$(this);mUtil.isInResponsiveRange("tablet-and-mobile")?(a=c.data("mobile-max-height")?c.data("mobile-max-height"):c.data("max-height"),b=c.data("mobile-height")?c.data("mobile-height"):c.data("height")):(a=c.data("max-height"),b=c.data("max-height")),a&&c.css("max-height",a),b&&c.css("height",b),mApp.initScroller(c,{})})},h=function(){$("body").on("click","[data-close=alert]",function(){$(this).closest(".alert").hide()})};return{init:function(){mApp.initComponents()},initComponents:function(){g(),b(),d(),h(),f()},initTooltips:function(){b()},initTooltip:function(b){a(b)},initPopovers:function(){d()},initPopover:function(a){c(a)},initPortlet:function(a,b){e(a,b)},initPortlets:function(){f()},scrollTo:function(a,b){var c=a&&a.length>0?a.offset().top:0;c+=b?b:0,jQuery("html,body").animate({scrollTop:c},"slow")},scrollToViewport:function(a){var b=a.offset().top,c=a.height(),d=mUtil.getViewPort().height,e=b-(d/2-c/2);jQuery("html,body").animate({scrollTop:e},"slow")},scrollTop:function(){mApp.scrollTo()},initScroller:function(a,b){mUtil.isMobileDevice()?a.css("overflow","auto"):(a.mCustomScrollbar("destroy"),a.mCustomScrollbar({scrollInertia:0,autoDraggerLength:!0,autoHideScrollbar:!0,autoExpandScrollbar:!1,alwaysShowScrollbar:0,axis:a.data("axis")?a.data("axis"):"y",mouseWheel:{scrollAmount:120,preventDefault:!0},setHeight:b.height?b.height:"",theme:"minimal-dark"}))},destroyScroller:function(a){a.mCustomScrollbar("destroy")},alert:function(a){var b,c;return a=$.extend(!0,{container:"",place:"append",type:"success",message:"",close:!0,reset:!0,focus:!0,closeInSeconds:0,icon:""},a),b=mUtil.getUniqueID("App_alert"),c='<div id="'+b+'" class="custom-alerts alert alert-'+a.type+' fade in">'+(a.close?'<button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>':"")+(""!==a.icon?'<i class="fa-lg fa fa-'+a.icon+'"></i>  ':"")+a.message+"</div>",a.reset&&$(".custom-alerts").remove(),a.container?"append"==a.place?$(a.container).append(c):$(a.container).prepend(c):1===$(".page-fixed-main-content").size()?$(".page-fixed-main-content").prepend(c):($("body").hasClass("page-container-bg-solid")||$("body").hasClass("page-content-white"))&&0===$(".page-head").size()?$(".page-title").after(c):$(".page-bar").size()>0?$(".page-bar").after(c):$(".page-breadcrumb, .breadcrumbs").after(c),a.focus&&mApp.scrollTo($("#"+b)),a.closeInSeconds>0&&setTimeout(function(){$("#"+b).remove()},1e3*a.closeInSeconds),b},block:function(a,b){var d,e,f,g,h,c=$(a);b=$.extend(!0,{opacity:.1,overlayColor:"",state:"brand",type:"spinner",centerX:!0,centerY:!0,message:"",shadow:!0,width:"auto"},b),"spinner"==b.type?(d=b.skin?"m-spinner--skin-"+b.skin:"",e=b.state?"m-spinner--"+b.state:"",f='<div class="m-spinner '+d+" "+e+'"></div'):(d=b.skin?"m-loader--skin-"+b.skin:"",e=b.state?"m-loader--"+b.state:"",size=b.size?"m-loader--"+b.size:"",f='<div class="m-loader '+d+" "+e+" "+size+'"></div'),b.message&&b.message.length>0?(g="m-blockui "+(b.shadow===!1?"m-blockui-no-shadow":""),html='<div class="'+g+'"><span>'+b.message+"</span><span>"+f+"</span></div>",b.width=mUtil.realWidth(html)+10,"body"==a&&(html='<div class="'+g+'" style="margin-left:-'+b.width/2+'px;"><span>'+b.message+"</span><span>"+f+"</span></div>")):html=f,h={message:html,centerY:b.centerY,centerX:b.centerX,css:{top:"30%",left:"50%",border:"0",padding:"0",backgroundColor:"none",width:b.width},overlayCSS:{backgroundColor:b.overlayColor,opacity:b.opacity,cursor:"wait"},onUnblock:function(){c&&(c.css("position",""),c.css("zoom",""))}},"body"==a?(h.css.top="50%",$.blockUI(h)):(c=$(a),c.block(h))},unblock:function(a){a&&"body"!=a?$(a).unblock():$.unblockUI()},blockPage:function(a){return mApp.block("body",a)},unblockPage:function(){return mApp.unblock("body")}}}();$(document).ready(function(){mApp.init()}),mUtil=function(){var a=[],b={sm:544,md:768,lg:992,xl:1200},c={brand:"#716aca",metal:"#c4c5d6",light:"#ffffff",accent:"#00c5dc",primary:"#5867dd",success:"#34bfa3",info:"#36a3f7",warning:"#ffb822",danger:"#f4516c"},d=function(){var b,c=function(){var b,c;for(b=0;b<a.length;b++)c=a[b],c.call()};jQuery(window).resize(function(){b&&clearTimeout(b),b=setTimeout(function(){c()},250)})};return{init:function(a){a&&a.breakpoints&&(b=a.breakpoints),a&&a.colors&&(c=a.colors),d()},addResizeHandler:function(b){a.push(b)},runResizeHandlers:function(){_runResizeHandlers()},getURLParam:function(a){var c,d,b=window.location.search.substring(1),e=b.split("&");for(c=0;c<e.length;c++)if(d=e[c].split("="),d[0]==a)return unescape(d[1]);return null},isMobileDevice:function(){return this.getViewPort().width<this.getBreakpoint("lg")?!0:!1},isDesktopDevice:function(){return mUtil.isMobileDevice()?!1:!0},getViewPort:function(){var a=window,b="inner";return"innerWidth"in window||(b="client",a=document.documentElement||document.body),{width:a[b+"Width"],height:a[b+"Height"]}},isInResponsiveRange:function(a){var b=this.getViewPort().width;return"general"==a?!0:"desktop"==a&&b>=this.getBreakpoint("lg")+1?!0:"tablet"==a&&b>=this.getBreakpoint("md")+1&&b<this.getBreakpoint("lg")?!0:"mobile"==a&&b<=this.getBreakpoint("md")?!0:"desktop-and-tablet"==a&&b>=this.getBreakpoint("md")+1?!0:"tablet-and-mobile"==a&&b<=this.getBreakpoint("lg")?!0:!1},getUniqueID:function(a){return a+Math.floor(Math.random()*(new Date).getTime())},getBreakpoint:function(a){return $.inArray(a,b)?b[a]:void 0},isset:function(a,b){var c;if(b=b||"",-1!==b.indexOf("["))throw new Error("Unsupported object path notation.");b=b.split(".");do{if(void 0===a)return!1;if(c=b.shift(),!a.hasOwnProperty(c))return!1;a=a[c]}while(b.length);return!0},getHighestZindex:function(a){for(var c,d,b=$(a);b.length&&b[0]!==document;){if(c=b.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(b.css("zIndex"),10),!isNaN(d)&&0!==d))return d;b=b.parent()}},hasClasses:function(a,b){var d,c=b.split(" ");for(d=0;d<c.length;d++)if(0==a.hasClass(c[d]))return!1;return!0},realWidth:function(a){var c,b=$(a).clone();return b.css("visibility","hidden"),b.css("overflow","hidden"),b.css("height","0"),$("body").append(b),c=b.outerWidth(),b.remove(),c},hasFixedPositionedParent:function(a){var b=!1;return a.parents().each(function(){return"fixed"==$(this).css("position")?(b=!0,void 0):void 0}),b},sleep:function(a){var c,b=(new Date).getTime();for(c=0;1e7>c&&!((new Date).getTime()-b>a);c++);},getRandomInt:function(a,b){return Math.floor(Math.random()*(b-a+1))+a},getColor:function(a){return c[a]},isAngularVersion:function(){return void 0!==window.Zone?!0:!1}}}(),$(document).ready(function(){mUtil.init()}),jQuery.fn.extend({animateClass:function(a,b){var c="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";jQuery(this).addClass("animated "+a).one(c,function(){jQuery(this).removeClass("animated "+a)}),b&&jQuery(this).one(c,b)},animateDelay:function(a){var c,b=["webkit-","moz-","ms-","o-",""];for(c=0;c<b.length;c++)jQuery(this).css(b[c]+"animation-delay",a)},animateDuration:function(a){var c,b=["webkit-","moz-","ms-","o-",""];for(c=0;c<b.length;c++)jQuery(this).css(b[c]+"animation-duration",a)}}),function(a){if("undefined"==typeof mUtil)throw new Error("mUtil is required and must be included before mDatatable.");a.fn.mDatatable=function(b){var c,d,e;if(!a(this).hasClass("m-datatable--loaded")){if(0===a(this).length)throw new Error("No mDatatable element exist.");if(""===a(this).attr("id"))throw new Error("ID is required.");return c=this,c.debug=!1,d={offset:110,stateId:"m-meta",init:function(b){return d.setupBaseDOM.call(),d.setupDOM(c.table),e.setDataSourceQuery(e.getOption("data.source.read.params.query")),a(c).on("m-datatable--on-layout-updated",d.afterRender),c.debug&&d.stateRemove(d.stateId),("remote"===b.data.type||"local"===b.data.type)&&((b.data.saveState===!1||b.data.saveState.cookie===!1&&b.data.saveState.webstorage===!1)&&d.stateRemove(d.stateId),"local"===b.data.type&&"object"==typeof b.data.source&&(null===b.data.source&&d.extractTable(),c.dataSet=c.originalDataSet=d.dataMapCallback(b.data.source)),d.dataRender()),d.setHeadTitle.call(),d.setHeadTitle.call(this,c.tableFoot),null===b.data.type&&(d.setupCellField.call(),d.setupTemplateCell.call(),d.setupSystemColumn.call()),"undefined"!=typeof b.layout.header&&b.layout.header===!1&&a(c.table).find("thead").remove(),"undefined"!=typeof b.layout.footer&&b.layout.footer===!1&&a(c.table).find("tfoot").remove(),(null===b.data.type||"local"===b.data.type)&&d.layoutUpdate(),a(window).resize(d.fullRender),a(c).height(""),a(e.getOption("search.input")).on("keyup",function(){e.search(a(this).val().toLowerCase())}),c},extractTable:function(){var f,g,d=[],e=a(c).find("tr:first-child th").get().map(function(c){var g,h,f=a(c).data("field");"undefined"==typeof f&&(f=a(c).text()),g={field:f,title:f};for(h in b.columns)b.columns[h].field===f&&(g=a.extend(!0,{},b.columns[h],g));return d.push(g),f});b.columns=d,f=a(c).find("tr").get().map(function(b){return a(b).find("td").get().map(function(b){return a(b).html()})}),g=[],a.each(f,function(b,c){if(0!==c.length){var d={};a.each(c,function(a,b){d[e[a]]=b}),g.push(d)}}),b.data.source=g},layoutUpdate:function(){d.setupSubDatatable.call(),d.setupSystemColumn.call(),d.columnHide.call(),d.sorting.call(),d.setupHover.call(),"undefined"==typeof b.detail&&1===d.getDepth()&&d.lockTable.call(),a(c).trigger("m-datatable--on-layout-updated",{table:a(c.table).attr("id")})},lockTable:function(){var e={lockEnabled:!1,init:function(){e.lockEnabled=a.grep(b.columns,function(a){return"undefined"!=typeof a.locked&&a.locked!==!1}),0!==e.lockEnabled.length&&(d.isLocked()||(c.oriTable=a(c.table).clone()),e.enable())},enable:function(){var b=function(b){var g,h,i,f=e.lockEnabledColumns();if(0!==f.left.length||0!==f.right.length){if(a(b).find(".m-datatable__lock").length>0)return d.log("Locked container already exist in: ",b),void 0;if(0===a(b).find(".m-datatable__row").length)return d.log("No row exist in: ",b),void 0;g=a("<div/>").addClass("m-datatable__lock m-datatable__lock--left"),h=a("<div/>").addClass("m-datatable__lock m-datatable__lock--scroll"),i=a("<div/>").addClass("m-datatable__lock m-datatable__lock--right"),a(b).find(".m-datatable__row").each(function(){var b=a("<tr/>").addClass("m-datatable__row").appendTo(g),c=a("<tr/>").addClass("m-datatable__row").appendTo(h),d=a("<tr/>").addClass("m-datatable__row").appendTo(i);a(this).find(".m-datatable__cell").each(function(){var e=a(this).data("locked");"undefined"!=typeof e?(("undefined"!=typeof e.left||e===!0)&&a(this).appendTo(b),"undefined"!=typeof e.right&&a(this).appendTo(d)):a(this).appendTo(c)}),a(this).remove()}),f.left.length>0&&(a(c.wrap).addClass("m-datatable--lock"),a(g).appendTo(b)),(f.left.length>0||f.right.length>0)&&a(h).appendTo(b),f.right.length>0&&(a(c.wrap).addClass("m-datatable--lock"),a(i).appendTo(b))}};a(c.table).find("thead,tbody,tfoot").each(function(){var c=this;0===a(this).find(".m-datatable__lock").length&&a(this).ready(function(){b(c)})})},lockEnabledColumns:function(){var c=a(window).width(),d=b.columns,e={left:[],right:[]};return a.each(d,function(a,b){"undefined"!=typeof b.locked&&("undefined"!=typeof b.locked.left&&mUtil.getBreakpoint(b.locked.left)<=c&&e["left"].push(b.locked.left),"undefined"!=typeof b.locked.right&&mUtil.getBreakpoint(b.locked.right)<=c&&e["right"].push(b.locked.right))}),e}};return e.init(),e},fullRender:function(){if(d.spinnerCallback(!0),a(c.wrap).removeClass("m-datatable--loaded"),d.isLocked()){var b=a(c.oriTable).children();b.length>0&&(a(c.wrap).removeClass("m-datatable--lock"),a(c.table).empty().html(b),c.oriTable=null,d.setupCellField.call(),e.redraw()),d.updateTableComponents.call()}d.insertData()},afterRender:function(b,f){f.table===a(c.table).attr("id")&&(d.isLocked()||e.redraw(),a(c).ready(function(){a(c.tableBody).find(".m-datatable__row:even").addClass("m-datatable__row--even"),d.isLocked()&&e.redraw(),a(c.tableBody).css("visibility",""),a(c.wrap).addClass("m-datatable--loaded"),d.scrollbar.call(),d.spinnerCallback(!1)}))},setupHover:function(){a(c.tableBody).find(".m-datatable__cell").off("mouseenter","mouseleave").on("mouseenter",function(){var b=a(this).closest(".m-datatable__row").addClass("m-datatable__row--hover"),c=a(b).index()+1;a(b).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child("+c+")").addClass("m-datatable__row--hover")}).on("mouseleave",function(){var b=a(this).closest(".m-datatable__row").removeClass("m-datatable__row--hover"),c=a(b).index()+1;a(b).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child("+c+")").removeClass("m-datatable__row--hover")})},adjustLockContainer:function(){var b,e,f,g;return d.isLocked()?(b=a(c.tableHead).width(),e=a(c.tableHead).find(".m-datatable__lock--left").width(),f=a(c.tableHead).find(".m-datatable__lock--right").width(),"undefined"==typeof e&&(e=0),"undefined"==typeof f&&(f=0),g=Math.floor(b-e-f),a(c.table).find(".m-datatable__lock--scroll").css("width",g),g):0},dragResize:function(){var e,f,b=!1,d=void 0;a(c.tableHead).find(".m-datatable__cell").mousedown(function(c){d=a(this),b=!0,e=c.pageX,f=a(this).width(),a(d).addClass("m-datatable__cell--resizing")}).mousemove(function(g){var h,i,j,k;b&&(h=a(d).index(),i=a(c.tableBody),j=a(d).closest(".m-datatable__lock"),j&&(k=a(j).index(),i=a(c.tableBody).find(".m-datatable__lock").eq(k)),a(i).find(".m-datatable__row").each(function(b,c){a(c).find(".m-datatable__cell").eq(h).width(f+(g.pageX-e)).children().width(f+(g.pageX-e))}),a(d).children().width(f+(g.pageX-e)))}).mouseup(function(){a(d).removeClass("m-datatable__cell--resizing"),b=!1}),a(document).mouseup(function(){a(d).removeClass("m-datatable__cell--resizing"),b=!1})},initHeight:function(){var d,e,f;b.layout.height&&b.layout.scroll&&(d=a(c.tableHead).find(".m-datatable__row").height(),e=a(c.tableFoot).find(".m-datatable__row").height(),f=b.layout.height,"undefined"!=typeof d&&(f-=d),"undefined"!=typeof e&&(f-=e),a(c.tableBody).css("max-height",f))},setupBaseDOM:function(){c.old=a(c).clone(),"TABLE"===a(c).prop("tagName")?(c.table=a(c).removeClass("m-datatable").addClass("m-datatable__table"),0===a(c.table).parents(".m-datatable").length&&(c.table.wrap(a("<div/>").addClass("m-datatable").addClass("m-datatable--"+b.layout.theme)),c.wrap=a(c.table).parent())):(c.wrap=a(c).addClass("m-datatable").addClass("m-datatable--"+b.layout.theme),c.table=a("<table/>").addClass("m-datatable__table").appendTo(c)),"undefined"!=typeof b.layout.class&&a(c.wrap).addClass(b.layout.class),a(c.table).removeClass("m-datatable--destroyed").css("display","block").attr("id",mUtil.getUniqueID("m-datatable--")),e.getOption("layout.height")&&a(c.table).css("max-height",e.getOption("layout.height")),null===b.data.type&&a(c.table).css("width","").css("display",""),c.tableHead=a(c.table).find("thead"),0===a(c.tableHead).length&&(c.tableHead=a("<thead/>").prependTo(c.table)),c.tableBody=a(c.table).find("tbody"),0===a(c.tableBody).length&&(c.tableBody=a("<tbody/>").appendTo(c.table)),"undefined"!=typeof b.layout.footer&&b.layout.footer&&(c.tableFoot=a(c.table).find("tfoot"),0===a(c.tableFoot).length&&(c.tableFoot=a("<tfoot/>").appendTo(c.table)))},setupCellField:function(d){"undefined"==typeof d&&(d=a(c.table).children());var e=b.columns;a.each(d,function(b,c){a(c).find(".m-datatable__row").each(function(b,c){a(c).find(".m-datatable__cell").each(function(b,c){"undefined"!=typeof e[b]&&a(c).data(e[b])})})})},setupTemplateCell:function(f){"undefined"==typeof f&&(f=c.tableBody);var g=b.columns;a(f).find(".m-datatable__row").each(function(b,f){var h=a(f).data("obj")||{},i=e.getOption("rows.callback");"function"==typeof i&&i(f,h,b),h["getIndex"]=function(){return b},h["getDatatable"]=function(){return c},"undefined"==typeof h&&(h={},a(f).find(".m-datatable__cell").each(function(b,c){var d=a.grep(g,function(b){return a(c).data("field")===b.field})[0];"undefined"!=typeof d&&(h[d["field"]]=a(c).text())})),a(f).find(".m-datatable__cell").each(function(b,c){var f,i,e=a.grep(g,function(b){return a(c).data("field")===b.field})[0];"undefined"!=typeof e&&"undefined"!=typeof e.template&&(f="","string"==typeof e.template&&(f=d.dataPlaceholder(e.template,h)),"function"==typeof e.template&&(f=e.template(h)),i=a("<span/>").append(f),a(c).html(i),"undefined"!=typeof e.overflow&&a(i).css("overflow",e.overflow))})})},setupSystemColumn:function(){var d,f;c.dataSet=c.dataSet||[],0!==c.dataSet.length&&(d=b.columns,a(c.tableBody).find(".m-datatable__row").each(function(b,c){a(c).find(".m-datatable__cell").each(function(b,c){var g,h,f=a.grep(d,function(b){return a(c).data("field")===b.field})[0];if("undefined"!=typeof f){if(g=a(c).text(),"undefined"!=typeof f.selector&&f.selector!==!1){if(a(c).find('.m-checkbox [type="checkbox"]').length>0)return;a(c).addClass("m-datatable__cell--check"),h=a("<label/>").addClass("m-checkbox m-checkbox--single").append(a("<input/>").attr("type","checkbox").attr("value",g).on("click",function(){a(this).is(":checked")?e.setActive(this):e.setInactive(this)})).append(a("<span/>")),"undefined"!=typeof f.selector.class&&a(h).addClass(f.selector.class),a(c).children().html(h)}if("undefined"!=typeof f.subtable&&f.subtable){if(a(c).find(".m-datatable__toggle-subtable").length>0)return;a(c).children().html(a("<a/>").addClass("m-datatable__toggle-subtable").attr("href","#").attr("data-value",g).append(a("<i/>").addClass(e.getOption("layout.icons.rowDetail.collapse"))))}}})}),f=function(b){var f,g,c=a.grep(d,function(a){return"undefined"!=typeof a.selector&&a.selector!==!1})[0];if("undefined"!=typeof c&&"undefined"!=typeof c.selector&&c.selector!==!1){if(f=a(b).find('[data-field="'+c.field+'"]'),a(f).find('.m-checkbox [type="checkbox"]').length>0)return;a(f).addClass("m-datatable__cell--check"),g=a("<label/>").addClass("m-checkbox m-checkbox--single m-checkbox--all").append(a("<input/>").attr("type","checkbox").on("click",function(){a(this).is(":checked")?e.setActiveAll(!0):e.setActiveAll(!1)})).append(a("<span/>")),"undefined"!=typeof c.selector.class&&a(g).addClass(c.selector.class),a(f).children().html(g)}},"undefined"!=typeof b.layout.header&&b.layout.header===!0&&f(a(c.tableHead).find(".m-datatable__row").first()),"undefined"!=typeof b.layout.footer&&b.layout.footer===!0&&f(a(c.tableFoot).find(".m-datatable__row").first()))},adjustCellsWidth:function(){var g,b=a(c.tableHead).width(),e=20,f=d.getOneRow(c.tableHead,1).length;f>0&&(b-=e*f,g=Math.floor(b/f),g<=d.offset&&(g=d.offset),a(c.table).find(".m-datatable__row").find(".m-datatable__cell").each(function(b,c){var d=g,e=a(c).data("width");"undefined"!=typeof e&&(d=e),a(c).children().css("width",d)}))},adjustCellsHeight:function(){a(c.table).find(".m-datatable__row"),a.each(a(c.table).children(),function(b,c){var e,f,g;for(e=1;e<=d.getTotalRows(c);e++)f=d.getOneRow(c,e,!1),a(f).length>0&&(g=Math.max.apply(null,a(f).map(function(){return a(this).height()}).get()),a(f).css("height",Math.ceil(g)))})},setupDOM:function(b){a(b).find("> thead").addClass("m-datatable__head"),a(b).find("> tbody").addClass("m-datatable__body"),a(b).find("> tfoot").addClass("m-datatable__foot"),a(b).find("tr").addClass("m-datatable__row"),a(b).find("tr > th, tr > td").addClass("m-datatable__cell"),a(b).find("tr > th, tr > td").each(function(b,c){0===a(c).find("span").length&&a(c).wrapInner(a("<span/>").width(d.offset))})},scrollbar:function(){var f={tableLocked:null,mcsOptions:{scrollInertia:0,autoDraggerLength:!0,autoHideScrollbar:!0,autoExpandScrollbar:!1,alwaysShowScrollbar:0,mouseWheel:{scrollAmount:120,preventDefault:!1},advanced:{updateOnContentResize:!0,autoExpandHorizontalScroll:!0},theme:"minimal-dark"},init:function(){var e,d=mUtil.getViewPort().width;b.layout.scroll?(a(c.wrap).addClass("m-datatable--scroll"),e=a(c.tableBody).find(".m-datatable__lock--scroll"),a(e).length>0?(f.scrollHead=a(c.tableHead).find("> .m-datatable__lock--scroll > .m-datatable__row"),f.scrollFoot=a(c.tableFoot).find("> .m-datatable__lock--scroll > .m-datatable__row"),f.tableLocked=a(c.tableBody).find(".m-datatable__lock:not(.m-datatable__lock--scroll)"),d>mUtil.getBreakpoint("lg")?f.mCustomScrollbar(e):f.defaultScrollbar(e)):(f.scrollHead=a(c.tableHead).find("> .m-datatable__row"),f.scrollFoot=a(c.tableFoot).find("> .m-datatable__row"),d>mUtil.getBreakpoint("lg")?f.mCustomScrollbar(c.tableBody):f.defaultScrollbar(c.tableBody))):a(c.table).css("height","auto").css("overflow-x","auto")},defaultScrollbar:function(b){a(b).css("overflow","auto").css("max-height",e.getOption("layout.height")).on("scroll",f.onScrolling)},onScrolling:function(){var c=a(this).scrollLeft(),d=a(this).scrollTop();a(f.scrollHead).css("left",-c),a(f.scrollFoot).css("left",-c),a(f.tableLocked).each(function(b,c){a(c).css("top",-d)})},mCustomScrollbar:function(b){var i,g=e.getOption("layout.height"),h="xy";null===g&&(h="x"),i=a.extend({},f.mcsOptions,{axis:h,setHeight:a(c.tableBody).height(),callbacks:{whileScrolling:function(){var b=this.mcs;a(f.scrollHead).css("left",b.left),a(f.scrollFoot).css("left",b.left),a(f.tableLocked).each(function(c,d){a(d).css("top",b.top)})}}}),e.getOption("layout.smoothScroll.scrollbarShown")===!0&&a(b).attr("data-scrollbar-shown","true"),d.mCustomScrollbar(b,i),a(b).mCustomScrollbar("scrollTo","top")}};return f.init(),f},mCustomScrollbar:function(b,d){a(c.tableBody).css("overflow",""),0===a(b).find(".mCustomScrollbar").length&&(a(c.tableBody).hasClass("mCustomScrollbar")&&a(c.tableBody).mCustomScrollbar("destroy"),a(b).mCustomScrollbar(d))},setHeadTitle:function(e){var f,g,h;"undefined"==typeof e&&(e=c.tableHead),f=b.columns,g=a(e).find(".m-datatable__row"),h=a(e).find(".m-datatable__cell"),0===a(g).length&&(g=a("<tr/>").appendTo(e)),a.each(f,function(b,d){var f,e=a(h).eq(b);0===a(e).length&&(e=a("<th/>").appendTo(g)),"undefined"!=typeof d["title"]&&a(e).html(d["title"]).attr("data-field",d.field).data(d),"undefined"!=typeof d.textAlign&&(f="undefined"!=typeof c.textAlign[d.textAlign]?c.textAlign[d.textAlign]:"",a(e).addClass(f))}),d.setupDOM(e)},dataRender:function(f){var g,h;return a(c.table).siblings(".m-datatable__pager").removeClass("m-datatable--paging-loaded"),g=function(){var f,g,h;return c.dataSet=c.dataSet||[],d.localDataUpdate(),f=e.getDataSourceParam("pagination"),0===f.perpage&&(f.perpage=b.data.pageSize||10),f.total=c.dataSet.length,g=Math.max(f.perpage*(f.page-1),0),h=Math.min(g+f.perpage,f.total),c.dataSet=a(c.dataSet).slice(g,h),f},h=function(e){a(c.wrap).removeClass("m-datatable--error"),b.pagination?b.data.serverPaging&&"local"!==b.data.type?d.paging(d.getObject("meta",e||null)):d.paging(g(),function(b,e){var f,g;a(b.pager).hasClass("m-datatable--paging-loaded")||(a(b.pager).remove(),b.init(e)),a(b.pager).off().on("m-datatable--on-goto-page",function(){a(b.pager).remove(),b.init(e)}),f=Math.max(e.perpage*(e.page-1),0),g=Math.min(f+e.perpage,e.total),d.localDataUpdate(),c.dataSet=a(c.dataSet).slice(f,g),d.insertData()}):d.localDataUpdate(),d.insertData()},"local"===b.data.type||"undefined"==typeof b.data.source.read&&null!==c.dataSet||b.data.serverSorting===!1&&"sort"===f?(h(),void 0):(d.getData().done(h),void 0)},insertData:function(){var f,g;c.dataSet=c.dataSet||[],f=e.getDataSourceParam(),g=a("<tbody/>").addClass("m-datatable__body").css("visibility","hidden"),a.each(c.dataSet,function(d,e){var l,m,n,o,h=a("<tr/>").attr("data-row",d).data("obj",e),i=0,j=[],k=b.columns.length;for(l=0;k>l;l+=1)m=b.columns[l],n=[],f.sort.field===m.field&&n.push("m-datatable__cell--sorted"),"undefined"!=typeof m.textAlign&&(o="undefined"!=typeof c.textAlign[m.textAlign]?c.textAlign[m.textAlign]:"",n.push(o)),j[i++]='<td data-field="'+m.field+'"',j[i++]=' class="'+n.join(" ")+'"',j[i++]=">",j[i++]=e[m.field],j[i++]="</td>";a(h).append(j.join("")),a(g).append(h)}),0===c.dataSet.length&&(a("<span/>").addClass("m-datatable--error").width("100%").html(e.getOption("translate.records.noRecords")).appendTo(g),a(c.wrap).addClass("m-datatable--error")),a(c.tableBody).replaceWith(g),c.tableBody=g,d.setupDOM(c.table),d.setupCellField([c.tableBody]),d.setupTemplateCell(c.tableBody),d.layoutUpdate()},updateTableComponents:function(){c.tableHead=a(c.table).children("thead"),c.tableBody=a(c.table).children("tbody"),c.tableFoot=a(c.table).children("tfoot")},getData:function(){var f={dataType:"json",method:"GET",data:{},timeout:3e4};return"local"===b.data.type&&(f.url=b.data.source),"remote"===b.data.type&&(f.url=e.getOption("data.source.read.url"),"string"!=typeof f.url&&(f.url=e.getOption("data.source.read")),"string"!=typeof f.url&&(f.url=e.getOption("data.source")),f.headers=e.getOption("data.source.read.headers"),f.data["datatable"]=e.getDataSourceParam(),f.method=e.getOption("data.source.read.method")||"POST",e.getOption("data.serverPaging")||delete f.data["datatable"]["pagination"],e.getOption("data.serverSorting")||delete f.data["datatable"]["sort"]),a.ajax(f).done(function(b){c.dataSet=c.originalDataSet=d.dataMapCallback(b),a(c).trigger("m-datatable--on-ajax-done",[c.dataSet])}).fail(function(b){a(c).trigger("m-datatable--on-ajax-fail",[b]),a("<span/>").addClass("m-datatable--error").width("100%").html(e.getOption("translate.records.noRecords")).appendTo(c.tableBody),a(c).addClass("m-datatable--error")}).always(function(){})},paging:function(b,f){var g={meta:null,pager:null,paginateEvent:null,pagerLayout:{pagination:null,info:null},callback:null,init:function(b){g.meta=b,g.meta.pages=Math.max(Math.ceil(g.meta.total/g.meta.perpage),1),g.meta.page>g.meta.pages&&(g.meta.page=g.meta.pages),g.paginateEvent=d.getTablePrefix(),g.pager=a(c.table).siblings(".m-datatable__pager"),a(g.pager).hasClass("m-datatable--paging-loaded")||(a(g.pager).remove(),0!==g.meta.pages&&(e.setDataSourceParam("pagination",g.meta),g.callback=g.serverCallback,"function"==typeof f&&(g.callback=f),g.addPaginateEvent(),g.populate(),g.meta.page=Math.max(g.meta.page||1,g.meta.page),a(c).trigger(g.paginateEvent,g.meta),g.pagingBreakpoint.call(),a(window).resize(g.pagingBreakpoint)))},serverCallback:function(){d.dataRender()},populate:function(){var f,h,i,j,k,l,m,b=e.getOption("layout.icons.pagination"),d=e.getOption("translate.toolbar.pagination.items.default");for(g.pager=a("<div/>").addClass("m-datatable__pager m-datatable--paging-loaded clearfix"),f=a("<ul/>").addClass("m-datatable__pager-nav"),g.pagerLayout["pagination"]=f,a("<li/>").append(a("<a/>").attr("title",d.first).addClass("m-datatable__pager-link m-datatable__pager-link--first").append(a("<i/>").addClass(b.first)).on("click",g.gotoMorePage).attr("data-page",1)).appendTo(f),a("<li/>").append(a("<a/>").attr("title",d.prev).addClass("m-datatable__pager-link m-datatable__pager-link--prev").append(a("<i/>").addClass(b.prev)).on("click",g.gotoMorePage)).appendTo(f),a("<li/>").append(a("<a/>").attr("title",d.more).addClass("m-datatable__pager-link m-datatable__pager-link--more-prev").html(a("<i/>").addClass(b.more)).on("click",g.gotoMorePage)).appendTo(f),a("<li/>").append(a("<input/>").attr("type","text").addClass("m-pager-input form-control").attr("title",d.input).on("keyup",function(){a(this).attr("data-page",Math.abs(a(this).val()))}).on("keypress",function(a){13===a.which&&g.gotoMorePage(a)})).appendTo(f),h=e.getOption("toolbar.items.pagination.pages.desktop.pagesNumber"),i=Math.ceil(g.meta.page/h)*h,j=i-h,i>g.meta.pages&&(i=g.meta.pages),k=j;i>k;k++)l=k+1,a("<li/>").append(a("<a/>").addClass("m-datatable__pager-link m-datatable__pager-link-number").text(l).attr("data-page",l).attr("title",l).on("click",g.gotoPage)).appendTo(f);a("<li/>").append(a("<a/>").attr("title",d.more).addClass("m-datatable__pager-link m-datatable__pager-link--more-next").html(a("<i/>").addClass(b.more)).on("click",g.gotoMorePage)).appendTo(f),a("<li/>").append(a("<a/>").attr("title",d.next).addClass("m-datatable__pager-link m-datatable__pager-link--next").append(a("<i/>").addClass(b.next)).on("click",g.gotoMorePage)).appendTo(f),a("<li/>").append(a("<a/>").attr("title",d.last).addClass("m-datatable__pager-link m-datatable__pager-link--last").append(a("<i/>").addClass(b.last)).on("click",g.gotoMorePage).attr("data-page",g.meta.pages)).appendTo(f),e.getOption("toolbar.items.info")&&(g.pagerLayout["info"]=a("<div/>").addClass("m-datatable__pager-info").append(a("<span/>").addClass("m-datatable__pager-detail"))),a.each(e.getOption("toolbar.layout"),function(b,c){a(g.pagerLayout[c]).appendTo(g.pager)}),m=a("<select/>").addClass("selectpicker m-datatable__pager-size").attr("title",e.getOption("translate.toolbar.pagination.items.default.select")).attr("data-width","70px").val(g.meta.perpage).on("change",g.updatePerpage).prependTo(g.pagerLayout["info"]),a.each(e.getOption("toolbar.items.pagination.pageSizeSelect"),function(b,c){var d=c;-1===c&&(d="All"),a("<option/>").attr("value",c).html(d).appendTo(m)}),a(c).ready(function(){a(".selectpicker").selectpicker().siblings(".dropdown-toggle").attr("title",e.getOption("translate.toolbar.pagination.items.default.select"))}),g.paste()},paste:function(){a.each(a.unique(e.getOption("toolbar.placement")),function(b,d){"bottom"===d&&a(g.pager).clone(!0).insertAfter(c.table),"top"===d&&a(g.pager).clone(!0).addClass("m-datatable__pager--top").insertBefore(c.table)})},gotoMorePage:function(b){if(b.preventDefault(),"disabled"===a(this).attr("disabled"))return!1;var c=a(this).attr("data-page");return"undefined"==typeof c&&(c=a(b.target).attr("data-page")),g.openPage(parseInt(c)),!1},gotoPage:function(b){b.preventDefault(),a(this).hasClass("m-datatable__pager-link--active")||g.openPage(parseInt(a(this).data("page")))},openPage:function(b){g.meta.page=parseInt(b),a(c).trigger(g.paginateEvent,g.meta),g.callback(g,g.meta),a(g.pager).trigger("m-datatable--on-goto-page",g.meta)},updatePerpage:function(b){b.preventDefault(),null===e.getOption("layout.height")&&a("html, body").animate({scrollTop:a(c).position().top}),g.pager=a(c.table).siblings(".m-datatable__pager").removeClass("m-datatable--paging-loaded"),b.originalEvent&&(g.meta.perpage=parseInt(a(this).val())),a(g.pager).find("select.m-datatable__pager-size").val(g.meta.perpage).attr("data-selected",g.meta.perpage),e.setDataSourceParam("pagination",g.meta),a(g.pager).trigger("m-datatable--on-update-perpage",g.meta),a(c).trigger(g.paginateEvent,g.meta),g.callback(g,g.meta),g.updateInfo.call()},addPaginateEvent:function(){a(c).off(g.paginateEvent).on(g.paginateEvent,function(b,f){d.spinnerCallback(!0),g.pager=a(c.table).siblings(".m-datatable__pager");var h=a(g.pager).find(".m-datatable__pager-nav");a(h).find(".m-datatable__pager-link--active").removeClass("m-datatable__pager-link--active"),a(h).find('.m-datatable__pager-link-number[data-page="'+f.page+'"]').addClass("m-datatable__pager-link--active"),a(h).find(".m-datatable__pager-link--prev").attr("data-page",Math.max(f.page-1,1)),a(h).find(".m-datatable__pager-link--next").attr("data-page",Math.min(f.page+1,f.pages)),a(g.pager).each(function(){a(this).find('.m-pager-input[type="text"]').prop("value",f.page)
}),a(g.pager).find(".m-datatable__pager-nav").show(),f.pages<=1&&a(g.pager).find(".m-datatable__pager-nav").hide(),e.setDataSourceParam("pagination",g.meta),a(g.pager).find("select.m-datatable__pager-size").val(f.perpage).attr("data-selected",f.perpage),a(c.table).find('.m-checkbox > [type="checkbox"]').prop("checked",!1),a(c.table).find(".m-datatable__row--active").removeClass("m-datatable__row--active"),g.updateInfo.call(),g.pagingBreakpoint.call()})},updateInfo:function(){var b=Math.max(g.meta.perpage*(g.meta.page-1)+1,1),c=Math.min(b+g.meta.perpage-1,g.meta.total);a(g.pager).find(".m-datatable__pager-info").find(".m-datatable__pager-detail").html(d.dataPlaceholder(e.getOption("translate.toolbar.pagination.items.info"),{start:b,end:-1===g.meta.perpage?g.meta.total:c,pageSize:-1===g.meta.perpage||g.meta.perpage>=g.meta.total?g.meta.total:g.meta.perpage,total:g.meta.total}))},pagingBreakpoint:function(){var d,f,b=a(c.table).siblings(".m-datatable__pager").find(".m-datatable__pager-nav");0!==a(b).length&&(d=e.getCurrentPage(),f=a(b).find(".m-pager-input").closest("li"),a(b).find("li").show(),a.each(e.getOption("toolbar.items.pagination.pages"),function(c,h){if(mUtil.isInResponsiveRange(c)){switch(c){case"desktop":case"tablet":var i=Math.ceil(d/h.pagesNumber)*h.pagesNumber;i-h.pagesNumber,a(f).hide(),g.meta=e.getDataSourceParam("pagination"),g.paginationUpdate();break;case"mobile":a(f).show(),a(b).find(".m-datatable__pager-link--more-prev").closest("li").hide(),a(b).find(".m-datatable__pager-link--more-next").closest("li").hide(),a(b).find(".m-datatable__pager-link-number").closest("li").hide()}return!1}}))},paginationUpdate:function(){var n,o,b=a(c.table).siblings(".m-datatable__pager").find(".m-datatable__pager-nav"),d=a(b).find(".m-datatable__pager-link--more-prev"),f=a(b).find(".m-datatable__pager-link--more-next"),h=a(b).find(".m-datatable__pager-link--first"),i=a(b).find(".m-datatable__pager-link--prev"),j=a(b).find(".m-datatable__pager-link--next"),k=a(b).find(".m-datatable__pager-link--last"),l=a(b).find(".m-datatable__pager-link-number"),m=Math.max(a(l).first().data("page")-1,1);a(d).each(function(b,c){a(c).attr("data-page",m)}),1===m?a(d).parent().hide():a(d).parent().show(),n=Math.min(a(l).last().data("page")+1,g.meta.pages),a(f).each(function(){a(f).attr("data-page",n).show()}),n===g.meta.pages&&n===a(l).last().data("page")?a(f).parent().hide():a(f).parent().show(),1===g.meta.page?(a(h).attr("disabled",!0).addClass("m-datatable__pager-link--disabled"),a(i).attr("disabled",!0).addClass("m-datatable__pager-link--disabled")):(a(h).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled"),a(i).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled")),g.meta.page===g.meta.pages?(a(j).attr("disabled",!0).addClass("m-datatable__pager-link--disabled"),a(k).attr("disabled",!0).addClass("m-datatable__pager-link--disabled")):(a(j).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled"),a(k).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled")),o=e.getOption("toolbar.items.pagination.navigation"),o.first||a(h).remove(),o.prev||a(i).remove(),o.next||a(j).remove(),o.last||a(k).remove()}};return g.init(b),g},columnHide:function(){var d=mUtil.getViewPort().width;a.each(b.columns,function(b,e){var f,g;"undefined"!=typeof e.responsive&&(f=e.field,g=a.grep(a(c.table).find(".m-datatable__cell"),function(b){return f===a(b).data("field")}),mUtil.getBreakpoint(e.responsive.hidden)>=d?a(g).hide():a(g).show(),mUtil.getBreakpoint(e.responsive.visible)<=d?a(g).show():a(g).hide())})},setupSubDatatable:function(){var g,h,f=e.getOption("detail.content");if("function"==typeof f){if(a(c.table).find(".m-datatable__detail").length>0)return;a(c.wrap).addClass("m-datatable--subtable"),b.columns[0]["subtable"]=!0,g=function(d){var g,h,i,j;d.preventDefault(),g=a(this).closest(".m-datatable__row"),h=a(g).next().toggle(),i=a(this).closest("[data-field]:first-child").find(".m-datatable__toggle-subtable").data("value"),j=a(this).find("i").removeAttr("class"),a(h).is(":hidden")?(a(j).addClass(e.getOption("layout.icons.rowDetail.collapse")),a(g).removeClass("m-datatable__row--detail-expanded"),a(c).trigger("m-datatable--on-collapse-detail",[g])):(a(j).addClass(e.getOption("layout.icons.rowDetail.expand")),a(g).addClass("m-datatable__row--detail-expanded"),a(c).trigger("m-datatable--on-expand-detail",[g]),a.map(c.dataSet,function(a){return i===a[b.columns[0].field]?(d.data=a,!0):!1}),d.detailCell=a(h).find(".m-datatable__detail"),0===a(d.detailCell).find(".m-datatable").length&&f(d))},h=b.columns,a(c.tableBody).find(".m-datatable__row").each(function(b,c){a(c).find(".m-datatable__cell").each(function(b,c){var f,d=a.grep(h,function(b){return a(c).data("field")===b.field})[0];if("undefined"!=typeof d&&(f=a(c).text(),"undefined"!=typeof d.subtable&&d.subtable)){if(a(c).find(".m-datatable__toggle-subtable").length>0)return;a(c).children().html(a("<a/>").addClass("m-datatable__toggle-subtable").attr("href","#").attr("data-value",f).attr("title",e.getOption("detail.title")).on("click",g).append(a("<i/>").addClass(e.getOption("layout.icons.rowDetail.collapse"))))}})}),a(c.tableBody).find(".m-datatable__row").each(function(){var b=a("<tr/>").addClass("m-datatable__row-detail").hide().append(a("<td/>").addClass("m-datatable__detail").attr("colspan",d.getTotalColumns()));a(this).after(b),a(this).hasClass("m-datatable__row--even")&&a(b).addClass("m-datatable__row-detail--even")})}},dataMapCallback:function(a){var b=a;return"function"==typeof e.getOption("data.source.read.map")?e.getOption("data.source.read.map")(a):("undefined"!=typeof a.data&&(b=a.data),b)},isSpinning:!1,spinnerCallback:function(a){if(a){if(!d.isSpinning){var b=e.getOption("layout.spinner");b.message===!0&&(b.message=e.getOption("translate.records.processing")),d.isSpinning=!0,"undefined"!=typeof mApp&&mApp.block(c,b)}}else d.isSpinning=!1,"undefined"!=typeof mApp&&mApp.unblock(c)},sortCallback:function(b,c,d){var e=d["type"]||"string",f=d["format"]||"",g=d["field"];if("date"===e&&"undefined"==typeof moment)throw new Error("Moment.js is required.");return a(b).sort(function(a,b){var i,d=a[g],h=b[g];switch(e){case"date":return i=moment(d,f).diff(moment(h,f)),"asc"===c?i>0?1:0>i?-1:0:0>i?1:i>0?-1:0;case"number":return isNaN(parseFloat(d))&&null!=d&&(d=Number(d.replace(/[^0-9\.-]+/g,""))),isNaN(parseFloat(h))&&null!=h&&(h=Number(h.replace(/[^0-9\.-]+/g,""))),d=parseFloat(d),h=parseFloat(h),"asc"===c?d>h?1:h>d?-1:0:h>d?1:d>h?-1:0;case"string":default:return"asc"===c?d>h?1:h>d?-1:0:h>d?1:d>h?-1:0}})},log:function(a,b){"undefined"==typeof b&&(b=""),c.debug&&console.log(a,b)},isLocked:function(){return a(c.wrap).hasClass("m-datatable--lock")||!1},replaceTableContent:function(b,d){"undefined"==typeof d&&(d=c.tableBody),a(d).hasClass("mCustomScrollbar")?a(d).find(".mCSB_container").html(b):a(d).html(b)},getExtraSpace:function(b){var c=parseInt(a(b).css("paddingRight"))+parseInt(a(b).css("paddingLeft")),d=parseInt(a(b).css("marginRight"))+parseInt(a(b).css("marginLeft")),e=Math.ceil(a(b).css("border-right-width").replace("px",""));return c+d+e},dataPlaceholder:function(b,c){var d=b;return a.each(c,function(a,b){d=d.replace("{{"+a+"}}",b)}),d},getTableId:function(b){return"undefined"==typeof b&&(b=""),a(c).attr("id")+b},getTablePrefix:function(a){return"undefined"!=typeof a&&(a="-"+a),"m-datatable__"+d.getTableId()+"-"+d.getDepth()+a},getDepth:function(){var b=0,d=c.table;do d=a(d).parents(".m-datatable__table"),b++;while(a(d).length>0);return b},stateKeep:function(a,b){a=d.getTablePrefix(a),e.getOption("data.saveState")!==!1&&(e.getOption("data.saveState.webstorage")&&localStorage&&localStorage.setItem(a,JSON.stringify(b)),e.getOption("data.saveState.cookie")&&Cookies.set(a,JSON.stringify(b)))},stateGet:function(a){if(a=d.getTablePrefix(a),e.getOption("data.saveState")!==!1){var c=null;return c=e.getOption("data.saveState.webstorage")&&localStorage?localStorage.getItem(a):Cookies.get(a),"undefined"!=typeof c&&null!==c?JSON.parse(c):void 0}},stateUpdate:function(b,c){var e=d.stateGet(b);("undefined"==typeof e||null===e)&&(e={}),d.stateKeep(b,a.extend({},e,c))},stateRemove:function(a){a=d.getTablePrefix(a),localStorage&&localStorage.removeItem(a),Cookies.remove(a)},getTotalColumns:function(b){return"undefined"==typeof b&&(b=c.tableBody),a(b).find(".m-datatable__row").first().find(".m-datatable__cell").length},getTotalRows:function(b){return"undefined"==typeof b&&(b=c.tableBody),a(b).find(".m-datatable__row").first().parent().find(".m-datatable__row").length},getOneRow:function(b,c,d){"undefined"==typeof d&&(d=!0);var e=a(b).find(".m-datatable__row:not(.m-datatable__row-detail):nth-child("+c+")");return d&&(e=e.find(".m-datatable__cell")),e},hasOverflowCells:function(b){var c=a(b).find("tr:first-child").find(".m-datatable__cell"),d=0;return c.length>0?(a(c).each(function(b,c){d+=Math.ceil(a(c).innerWidth())}),d>=a(b).outerWidth()):!1},hasOverflowX:function(b){var d,c=a(b).find("*");return c.length>0?(d=Math.max.apply(null,a(c).map(function(){return a(this).outerWidth(!0)}).get()),d>a(b).width()):!1},hasOverflowY:function(b){var c=a(b).find(".m-datatable__row"),d=0;return c.length>0?(a(c).each(function(b,c){d+=Math.floor(a(c).innerHeight())}),d>a(b).innerHeight()):!1},sortColumn:function(b,d,e){var f,g,h,i;"undefined"==typeof d&&(d="asc"),"undefined"==typeof e&&(e=!1),f=a(b).index(),g=a(c.tableBody).find(".m-datatable__row"),h=a(b).closest(".m-datatable__lock").index(),-1!==h&&(g=a(c.tableBody).find(".m-datatable__lock:nth-child("+(h+1)+")").find(".m-datatable__row")),i=a(g).parent(),a(g).sort(function(b,c){var g=a(b).find("td:nth-child("+f+")").text(),h=a(c).find("td:nth-child("+f+")").text();return e&&(g=parseInt(g),h=parseInt(h)),"asc"===d?g>h?1:h>g?-1:0:h>g?1:g>h?-1:0}).appendTo(i)},sorting:function(){var f={init:function(){b.sortable&&(a(c.tableHead).find(".m-datatable__cell:not(.m-datatable__cell--check)").addClass("m-datatable__cell--sort").off("click").on("click",f.sortClick),f.setIcon())},setIcon:function(){var b=e.getDataSourceParam("sort"),d=a(c.tableHead).find('.m-datatable__cell[data-field="'+b.field+'"]').attr("data-sort",b.sort),f=a(d).find("span"),g=a(f).find("i"),h=e.getOption("layout.icons.sort");a(g).length>0?a(g).removeAttr("class").addClass(h[b.sort]):a(f).append(a("<i/>").addClass(h[b.sort]))},sortClick:function(){var k,h=e.getDataSourceParam("sort"),i=a(this).data("field"),j=d.getColumnByField(i);("undefined"==typeof j.sortable||j.sortable!==!1)&&(a(c.tableHead).find(".m-datatable__cell > span > i").remove(),b.sortable&&(d.spinnerCallback(!0),k="desc",h.field===i&&(k=h.sort),k="undefined"==typeof k||"desc"===k?"asc":"desc",h={field:i,sort:k},e.setDataSourceParam("sort",h),f.setIcon(),setTimeout(function(){d.dataRender("sort"),a(c).trigger("m-datatable--on-sort",h)},300)))}};f.init()},localDataUpdate:function(){var f,g,h,i,b=e.getDataSourceParam();return"undefined"==typeof c.originalDataSet&&(c.originalDataSet=c.dataSet),f=b.sort.field,g=b.sort.sort,h=d.getColumnByField(f),c.dataSet="undefined"!=typeof h?"function"==typeof h.sortCallback?h.sortCallback(c.originalDataSet,g,h):d.sortCallback(c.originalDataSet,g,h):c.originalDataSet,"object"==typeof b.query&&(b.query=b.query||{},i=a(e.getOption("search.input")).val(),"undefined"!=typeof i&&""!==i&&(i=i.toLowerCase(),c.dataSet=a.grep(c.dataSet,function(a){for(var b in a)if(a.hasOwnProperty(b)&&"string"==typeof a[b]&&a[b].toLowerCase().indexOf(i)>-1)return!0;return!1}),delete b.query[d.getGeneralSearchKey()]),a.each(b.query,function(a,c){""===c&&delete b.query[a]}),c.dataSet=d.filterArray(c.dataSet,b.query),c.dataSet=c.dataSet.filter(function(){return!0})),c.dataSet},filterArray:function(b,c,d){var e,f;return"object"!=typeof b?[]:("undefined"==typeof d&&(d="AND"),"object"!=typeof c?b:(d=d.toUpperCase(),-1===a.inArray(d,["AND","OR","NOT"])?[]:(e=Object.keys(c).length,f=[],a.each(b,function(b,g){var h=g,i=0;a.each(c,function(a,b){h.hasOwnProperty(a)&&b==h[a]&&i++}),("AND"==d&&i==e||"OR"==d&&i>0||"NOT"==d&&0==i)&&(f[b]=g)}),b=f)))},resetScroll:function(){"undefined"==typeof b.detail&&1===d.getDepth()&&(a(c.table).find(".m-datatable__row").css("left",0),a(c.table).find(".m-datatable__lock").css("top",0),a(c.tableBody).scrollTop(0))},getColumnByField:function(c){var d;return a.each(b.columns,function(a,b){return c===b.field?(d=b,!1):void 0}),d},getDefaultSortColumn:function(){var c={sort:"",field:""};return a.each(b.columns,function(b,d){return"undefined"!=typeof d.sortable&&-1!==a.inArray(d.sortable,["asc","desc"])?(c={sort:d.sortable,field:d.field},!1):void 0}),c},getHiddenDimensions:function(b,c){var g,d={position:"absolute",visibility:"hidden",display:"block"},e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},f=a(b).parents().addBack().not(":visible");return c="boolean"==typeof c?c:!1,g=[],f.each(function(){var b,a={};for(b in d)a[b]=this.style[b],this.style[b]=d[b];g.push(a)}),e.width=a(b).width(),e.outerWidth=a(b).outerWidth(c),e.innerWidth=a(b).innerWidth(),e.height=a(b).height(),e.innerHeight=a(b).innerHeight(),e.outerHeight=a(b).outerHeight(c),f.each(function(a){var c,b=g[a];for(c in d)this.style[c]=b[c]}),e},getGeneralSearchKey:function(){var b=a(e.getOption("search.input"));return a(b).prop("name")||a(b).prop("id")},getObject:function(a,b){return a.split(".").reduce(function(a,b){return null!==a&&"undefined"!=typeof a[b]?a[b]:null},b)},extendObj:function(a,b,c){function f(a){var b=d[e++];"undefined"!=typeof a[b]&&null!==a[b]?"object"!=typeof a[b]&&"function"!=typeof a[b]&&(a[b]={}):a[b]={},e===d.length?a[b]=c:f(a[b])}var d=b.split("."),e=0;return f(a),a}},this.API={row:null,record:null,column:null,value:null,params:null},e={timer:0,redraw:function(){return d.adjustCellsWidth.call(),d.adjustCellsHeight.call(),d.adjustLockContainer.call(),d.initHeight.call(),c},load:function(){return e.reload(),c},reload:function(){var f=function(){return function(a,b){clearTimeout(e.timer),e.timer=setTimeout(a,b)}}();return f(function(){b.data.serverFiltering===!1&&d.localDataUpdate(),d.dataRender(),a(c).trigger("m-datatable--on-reloaded")},e.getOption("search.delay")),c},getRecord:function(b){return"undefined"==typeof c.tableBody&&(c.tableBody=a(c.table).children("tbody")),a(c.tableBody).find(".m-datatable__cell:first-child").each(function(e,f){if(b==a(f).text()){c.API.row=a(f).closest(".m-datatable__row");var g=c.API.row.index()+1;return c.API.record=c.API.value=d.getOneRow(c.tableBody,g),c}}),c},getColumn:function(b){return c.API.column=c.API.value=a(c.API.record).find('[data-field="'+b+'"]'),c},destroy:function(){return a(c).parent().find(".m-datatable__pager").remove(),a(c).replaceWith(a(c.old).addClass("m-datatable--destroyed").show()),a(c).trigger("m-datatable--on-destroy"),c},sort:function(b,d){return"undefined"==typeof d&&(d="asc"),a(c.tableHead).find('.m-datatable__cell[data-field="'+b+'"]').trigger("click"),c},getValue:function(){return a(c.API.value).text()},setActive:function(b){var d,e,f;"string"==typeof b&&(b=a(c.tableBody).find('.m-checkbox--single > [type="checkbox"][value="'+b+'"]')),a(b).prop("checked",!0),d=a(b).closest(".m-datatable__row").addClass("m-datatable__row--active"),e=a(d).index()+1,a(d).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child("+e+")").addClass("m-datatable__row--active"),f=[],a(d).each(function(b,c){var d=a(c).find('.m-checkbox--single:not(.m-checkbox--all) > [type="checkbox"]').val();"undefined"!=typeof d&&f.push(d)}),a(c).trigger("m-datatable--on-check",[f])},setInactive:function(b){var d,e,f;"string"==typeof b&&(b=a(c.tableBody).find('.m-checkbox--single > [type="checkbox"][value="'+b+'"]')),a(b).prop("checked",!1),d=a(b).closest(".m-datatable__row").removeClass("m-datatable__row--active"),e=a(d).index()+1,a(d).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child("+e+")").removeClass("m-datatable__row--active"),f=[],a(d).each(function(b,c){var d=a(c).find('.m-checkbox--single:not(.m-checkbox--all) > [type="checkbox"]').val();"undefined"!=typeof d&&f.push(d)}),a(c).trigger("m-datatable--on-uncheck",[f])},setActiveAll:function(b){b?e.setActive(a(c.table).find(".m-datatable__body .m-datatable__row").find(".m-datatable__cell")):e.setInactive(a(c.table).find(".m-datatable__body .m-datatable__row").find(".m-datatable__cell")),a(c.table).find(".m-datatable__body .m-datatable__row").find('.m-checkbox [type="checkbox"]').prop("checked",b||!1)},setSelectedRecords:function(){return c.API.record=a(c.tableBody).find(".m-datatable__row--active"),c},getSelectedRecords:function(){return e.setSelectedRecords(),c.API.record},getOption:function(a){return d.getObject(a,b)},setOption:function(a,c){b=d.extendObj(b,a,c)},search:function(c,f){"undefined"!=typeof f&&(f=a.makeArray(f));var g=function(){return function(a,b){clearTimeout(e.timer),e.timer=setTimeout(a,b)}}();g(function(){var h,g=e.getDataSourceQuery();"undefined"==typeof f&&"undefined"!=typeof c&&(h=d.getGeneralSearchKey(),g[h]=c),"object"==typeof f&&(a.each(f,function(a,b){g[b]=c}),a.each(g,function(a,b){""===b&&delete g[a]})),e.setDataSourceQuery(g),b.data.serverFiltering===!1&&d.localDataUpdate(),d.dataRender()},e.getOption("search.delay"))},setDataSourceParam:function(b,f){var g=d.getDefaultSortColumn();c.API.params=a.extend({},{pagination:{page:1,perpage:e.getOption("data.pageSize")},sort:{sort:g.sort,field:g.field},query:{}},c.API.params,d.stateGet(d.stateId)),c.API.params=d.extendObj(c.API.params,b,f),d.stateKeep(d.stateId,c.API.params)},getDataSourceParam:function(b){var f=d.getDefaultSortColumn();return c.API.params=a.extend({},{pagination:{page:1,perpage:e.getOption("data.pageSize")},sort:{sort:f.sort,field:f.field},query:{}},c.API.params,d.stateGet(d.stateId)),"string"==typeof b?d.getObject(b,c.API.params):c.API.params},getDataSourceQuery:function(){return e.getDataSourceParam("query")||{}},setDataSourceQuery:function(a){e.setDataSourceParam("query",a)},getCurrentPage:function(){return a(c.table).siblings(".m-datatable__pager").last().find(".m-datatable__pager-nav").find(".m-datatable__pager-link.m-datatable__pager-link--active").data("page")||1},getPageSize:function(){return a(c.table).siblings(".m-datatable__pager").last().find(".m-datatable__pager-size").val()||10},getTotalRows:function(){return c.API.params.pagination.total},getDataSet:function(){return c.originalDataSet},hideColumn:function(d){a.map(b.columns,function(a){return d===a.field&&(a.responsive={hidden:"xl"}),a});var e=a.grep(a(c.table).find(".m-datatable__cell"),function(b){return d===a(b).data("field")});a(e).hide()},showColumn:function(d){a.map(b.columns,function(a){return d===a.field&&delete a.responsive,a});var e=a.grep(a(c.table).find(".m-datatable__cell"),function(b){return d===a(b).data("field")});a(e).show()}},a.each(e,function(a,b){c[a]=b}),"string"==typeof b?e[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?a.error("Method "+b+" does not exist"):(c.textAlign={left:"m-datatable__cell--left",center:"m-datatable__cell--center",right:"m-datatable__cell--right"},c.dataSet=null,b=a.extend(!0,{},a.fn.mDatatable.defaults,b),a(c).data("options",b),a(c).trigger("m-datatable--on-init",b),d.init.apply(this,[b])),c}},a.fn.mDatatable.defaults={data:{type:"local",source:null,pageSize:10,saveState:{cookie:!0,webstorage:!0},serverPaging:!1,serverFiltering:!1,serverSorting:!1},layout:{theme:"default","class":"m-datatable--brand",scroll:!1,height:null,footer:!1,header:!0,smoothScroll:{scrollbarShown:!0},spinner:{overlayColor:"#000000",opacity:0,type:"loader",state:"brand",message:!0},icons:{sort:{asc:"la la-arrow-up",desc:"la la-arrow-down"},pagination:{next:"la la-angle-right",prev:"la la-angle-left",first:"la la-angle-double-left",last:"la la-angle-double-right",more:"la la-ellipsis-h"},rowDetail:{expand:"fa fa-caret-down",collapse:"fa fa-caret-right"}}},sortable:!0,resizable:!1,filterable:!1,pagination:!0,editable:!1,columns:[],search:{input:null,delay:400},rows:{},toolbar:{layout:["pagination","info"],placement:["bottom"],items:{pagination:{type:"default",pages:{desktop:{layout:"default",pagesNumber:6},tablet:{layout:"default",pagesNumber:3},mobile:{layout:"compact"}},navigation:{prev:!0,next:!0,first:!0,last:!0},pageSizeSelect:[10,20,30,50,100]},info:!0}},translate:{records:{processing:"Please wait...",noRecords:"No records found"},toolbar:{pagination:{items:{"default":{first:"First",prev:"Previous",next:"Next",last:"Last",more:"More pages",input:"Page number",select:"Select page size"},info:"Displaying {{start}} - {{end}} of {{total}} records"}}}}}}(jQuery),function(a){a.fn.mDropdown=function(b){var c={},d=a(this),e={run:function(a){return d.data("dropdown")?c=d.data("dropdown"):(e.init(a),e.build(),e.setup(),d.data("dropdown",c)),c},init:function(b){c.events=[],c.eventOne=!1,c.close=d.find(".m-dropdown__close"),c.toggle=d.find(".m-dropdown__toggle"),c.arrow=d.find(".m-dropdown__arrow"),c.wrapper=d.find(".m-dropdown__wrapper"),c.scrollable=d.find(".m-dropdown__scrollable"),c.defaultDropPos=d.hasClass("m-dropdown--up")?"up":"down",c.currentDropPos=c.defaultDropPos,c.options=a.extend(!0,{},a.fn.mDropdown.defaults,b),d.data("drop-auto")===!0?c.options.dropAuto=!0:d.data("drop-auto")===!1&&(c.options.dropAuto=!1),c.scrollable.length>0&&(c.scrollable.data("min-height")&&(c.options.minHeight=c.scrollable.data("min-height")),c.scrollable.data("max-height")&&(c.options.maxHeight=c.scrollable.data("max-height")))},build:function(){mUtil.isMobileDevice()?"hover"==d.data("dropdown-toggle")||"click"==d.data("dropdown-toggle")?c.options.toggle="click":(c.options.toggle="click",c.toggle.click(e.toggle)):"hover"==d.data("dropdown-toggle")?(c.options.toggle="hover",d.mouseleave(e.hide)):"click"==d.data("dropdown-toggle")?c.options.toggle="click":"hover"==c.options.toggle?(d.mouseenter(e.show),d.mouseleave(e.hide)):c.toggle.click(e.toggle),c.close.length&&c.close.on("click",e.hide),e.disableClose()},setup:function(){c.options.placement&&d.addClass("m-dropdown--"+c.options.placement),c.options.align&&d.addClass("m-dropdown--align-"+c.options.align),c.options.width&&c.wrapper.css("width",c.options.width),d.data("dropdown-persistent")&&(c.options.persistent=!0),c.options.minHeight&&c.scrollable.css("min-height",c.options.minHeight),c.options.maxHeight&&(c.scrollable.css("max-height",c.options.maxHeight),c.scrollable.css("overflow-y","auto"),mUtil.isDesktopDevice()&&mApp.initScroller(c.scrollable,{})),e.setZindex()},sync:function(){a(d).data("dropdown",c)},disableClose:function(){d.on("click",".m-dropdown--disable-close, .mCSB_1_scrollbar",function(a){a.preventDefault(),a.stopPropagation()})},toggle:function(){return c.open?e.hide():e.show()},setContent:function(a){return d.find(".m-dropdown__content").html(a),c},show:function(){var b,f;return"hover"==c.options.toggle&&d.data("hover")?(e.clearHovered(),c):c.open?c:(c.arrow.length>0&&e.adjustArrowPos(),e.eventTrigger("beforeShow"),e.hideOpened(),d.addClass("m-dropdown--open"),mUtil.isMobileDevice()&&c.options.mobileOverlay&&(b=c.wrapper.css("zIndex")-1,f=a('<div class="m-dropdown__dropoff"></div>'),f.css("zIndex",b),f.data("dropdown",d),d.data("dropoff",f),d.after(f),f.click(function(b){e.hide(),a(this).remove(),b.preventDefault()})),d.focus(),d.attr("aria-expanded","true"),c.open=!0,e.handleDropPosition(),e.eventTrigger("afterShow"),c)},clearHovered:function(){d.removeData("hover");var a=d.data("timeout");d.removeData("timeout"),clearTimeout(a)},hideHovered:function(a){if(a){if(e.eventTrigger("beforeHide")===!1)return;e.clearHovered(),d.removeClass("m-dropdown--open"),c.open=!1,e.eventTrigger("afterHide")}else{if(e.eventTrigger("beforeHide")===!1)return;var b=setTimeout(function(){d.data("hover")&&(e.clearHovered(),d.removeClass("m-dropdown--open"),c.open=!1,e.eventTrigger("afterHide"))},c.options.hoverTimeout);d.data("hover",!0),d.data("timeout",b)}},hideClicked:function(){e.eventTrigger("beforeHide")!==!1&&(d.removeClass("m-dropdown--open"),d.data("dropoff")&&d.data("dropoff").remove(),c.open=!1,e.eventTrigger("afterHide"))},hide:function(a){return c.open===!1?c:("hover"==c.options.toggle?e.hideHovered(a):e.hideClicked(),"down"==c.defaultDropPos&&"up"==c.currentDropPos&&(d.removeClass("m-dropdown--up"),c.arrow.prependTo(c.wrapper),c.currentDropPos="down"),c)},hideOpened:function(){a(".m-dropdown.m-dropdown--open").each(function(){a(this).mDropdown().hide(!0)})},adjustArrowPos:function(){var a=d.outerWidth(),b=c.arrow.hasClass("m-dropdown__arrow--right")?"right":"left",e=0;c.arrow.length>0&&(mUtil.isInResponsiveRange("mobile")&&d.hasClass("m-dropdown--mobile-full-width")?(e=d.offset().left+a/2-Math.abs(c.arrow.width()/2)-parseInt(c.wrapper.css("left")),c.arrow.css("right","auto"),c.arrow.css("left",e),c.arrow.css("margin-left","auto"),c.arrow.css("margin-right","auto")):c.arrow.hasClass("m-dropdown__arrow--adjust")&&(e=a/2-Math.abs(c.arrow.width()/2),d.hasClass("m-dropdown--align-push")&&(e+=20),"right"==b?(c.arrow.css("left","auto"),c.arrow.css("right",e)):(c.arrow.css("right","auto"),c.arrow.css("left",e))))},handleDropPosition:function(){},setZindex:function(){var a=c.wrapper.css("z-index"),b=mUtil.getHighestZindex(d);b>a&&c.wrapper.css("z-index",zindex)},isPersistent:function(){return c.options.persistent},isShown:function(){return c.open},isInVerticalViewport:function(){var g,b=c.wrapper,d=b.offset(),e=b.outerHeight();return b.width(),g=b.find("[data-scrollable]"),g.length&&(g.data("max-height")?e+=parseInt(g.data("max-height")):g.data("height")&&(e+=parseInt(g.data("height")))),d.top+e<a(window).scrollTop()+a(window).height()},eventTrigger:function(a){for(i=0;i<c.events.length;i++){var b=c.events[i];if(b.name==a){if(1!=b.one)return b.handler.call(this,c);if(0==b.fired)return c.events[i].fired=!0,b.handler.call(this,c)}}},addEvent:function(a,b,d){return c.events.push({name:a,handler:b,one:d,fired:!1}),e.sync(),c}};return e.run.apply(this,[b]),c.show=function(){return e.show()},c.hide=function(){return e.hide()},c.toggle=function(){return e.toggle()},c.isPersistent=function(){return e.isPersistent()},c.isShown=function(){return e.isShown()},c.fixDropPosition=function(){return e.handleDropPosition()},c.setContent=function(a){return e.setContent(a)},c.on=function(a,b){return e.addEvent(a,b)},c.one=function(a,b){return e.addEvent(a,b,!0)},c},a.fn.mDropdown.defaults={toggle:"click",hoverTimeout:300,skin:"default",height:"auto",dropAuto:!0,maxHeight:!1,minHeight:!1,persistent:!1,mobileOverlay:!0},mUtil.isMobileDevice()?a(document).on("click",'[data-dropdown-toggle="click"] .m-dropdown__toggle, [data-dropdown-toggle="hover"] .m-dropdown__toggle',function(b){b.preventDefault(),a(this).parent(".m-dropdown").mDropdown().toggle()}):(a(document).on("click",'[data-dropdown-toggle="click"] .m-dropdown__toggle',function(b){b.preventDefault(),a(this).parent(".m-dropdown").mDropdown().toggle()}),a(document).on("mouseenter",'[data-dropdown-toggle="hover"]',function(){a(this).mDropdown().toggle()})),a(document).on("click",function(b){a(".m-dropdown.m-dropdown--open").each(function(){var c,d,e;a(this).data("dropdown")&&(c=a(b.target),d=a(this).mDropdown(),e=a(this).find(".m-dropdown__toggle"),e.length>0&&c.is(e)!==!0&&0===e.find(c).length&&0===c.find(e).length&&0==d.isPersistent()?d.hide():0===a(this).find(c).length&&d.hide())})})}(jQuery),function(a){a.fn.mExample=function(b){var c={},d=a(this),e={run:function(a){return d.data("example")?c=d.data("example"):(e.init(a),e.build(),e.setup(),d.data("example",c)),c},init:function(b){c.events=[],c.scrollable=d.find(".m-example__scrollable"),c.options=a.extend(!0,{},a.fn.mExample.defaults,b),c.scrollable.length>0&&(c.scrollable.data("data-min-height")&&(c.options.minHeight=c.scrollable.data("data-min-height")),c.scrollable.data("data-max-height")&&(c.options.maxHeight=c.scrollable.data("data-max-height")))},build:function(){mUtil.isMobileDevice()},setup:function(){},eventTrigger:function(a){for(i=0;i<c.events.length;i++){var b=c.events[i];if(b.name==a){if(1!=b.one)return b.handler.call(this,c);if(0==b.fired)return c.events[i].fired=!0,b.handler.call(this,c)}}},addEvent:function(a,b,d){c.events.push({name:a,handler:b,one:d,fired:!1}),e.sync()}};return e.run.apply(this,[b]),c.on=function(a,b){return e.addEvent(a,b)},c.one=function(a,b){return e.addEvent(a,b,!0)},c},a.fn.mExample.defaults={}}(jQuery),function(a){a.fn.mHeader=function(b){var c=this,d=a(this),e={run:function(a){return d.data("header")?c=d.data("header"):(e.init(a),e.reset(),e.build(),d.data("header",c)),c},init:function(b){c.options=a.extend(!0,{},a.fn.mHeader.defaults,b)},build:function(){e.toggle()},toggle:function(){var b=0;(c.options.minimize.mobile!==!1||c.options.minimize.desktop!==!1)&&a(window).scroll(function(){var e,d=0;mUtil.isInResponsiveRange("desktop")?(d=c.options.offset.desktop,on=c.options.minimize.desktop.on,off=c.options.minimize.desktop.off):mUtil.isInResponsiveRange("tablet-and-mobile")&&(d=c.options.offset.mobile,on=c.options.minimize.mobile.on,off=c.options.minimize.mobile.off),e=a(this).scrollTop(),c.options.classic?e>d?(a("body").addClass(on),a("body").removeClass(off)):(a("body").addClass(off),a("body").removeClass(on)):(e>d&&e>b?(a("body").addClass(on),a("body").removeClass(off)):(a("body").addClass(off),a("body").removeClass(on)),b=e)})},reset:function(){}};return e.run.apply(c,[b]),c.publicMethod=function(){},c},a.fn.mHeader.defaults={classic:!1,offset:{mobile:150,desktop:200},minimize:{mobile:!1,desktop:!1}}}(jQuery),function(a){a.fn.mMenu=function(b){var c=this,d=a(this),e={run:function(a,b){return d.data("menu")&&b!==!0?c=d.data("menu"):(e.init(a),e.reset(),e.build(),d.data("menu",c)),c},init:function(b){c.events=[],c.options=a.extend(!0,{},a.fn.mMenu.defaults,b),c.pauseDropdownHoverTime=0},build:function(){d.on("click",".m-menu__toggle",e.handleSubmenuAccordion),("dropdown"===e.getSubmenuMode()||e.isConditionalSubmenuDropdown())&&(d.on({mouseenter:e.handleSubmenuDrodownHoverEnter,mouseleave:e.handleSubmenuDrodownHoverExit},'[data-menu-submenu-toggle="hover"]'),d.on("click",'[data-menu-submenu-toggle="click"] .m-menu__toggle',e.handleSubmenuDropdownClick)),d.find(".m-menu__item:not(.m-menu__item--submenu) > .m-menu__link:not(.m-menu__toggle)").click(e.handleLinkClick)},reset:function(){d.off("click",".m-menu__toggle",e.handleSubmenuAccordion),d.off({mouseenter:e.handleSubmenuDrodownHoverEnter,mouseleave:e.handleSubmenuDrodownHoverExit},'[data-menu-submenu-toggle="hover"]'),d.off("click",'[data-menu-submenu-toggle="click"] .m-menu__toggle',e.handleSubmenuDropdownClick),c.find(".m-menu__submenu, .m-menu__inner").css("display",""),c.find(".m-menu__item--hover").removeClass("m-menu__item--hover"),c.find(".m-menu__item--open:not(.m-menu__item--expanded)").removeClass("m-menu__item--open")},getSubmenuMode:function(){return mUtil.isInResponsiveRange("desktop")?mUtil.isset(c.options.submenu,"desktop.state.body")?a("body").hasClass(c.options.submenu.desktop.state.body)?c.options.submenu.desktop.state.mode:c.options.submenu.desktop.default:mUtil.isset(c.options.submenu,"desktop")?c.options.submenu.desktop:void 0:mUtil.isInResponsiveRange("tablet")&&mUtil.isset(c.options.submenu,"tablet")?c.options.submenu.tablet:mUtil.isInResponsiveRange("mobile")&&mUtil.isset(c.options.submenu,"mobile")?c.options.submenu.mobile:!1},isConditionalSubmenuDropdown:function(){return mUtil.isInResponsiveRange("desktop")&&mUtil.isset(c.options.submenu,"desktop.state.body")?!0:!1},handleLinkClick:function(b){e.eventTrigger("linkClick",a(this))===!1&&b.preventDefault(),("dropdown"===e.getSubmenuMode()||e.isConditionalSubmenuDropdown())&&e.handleSubmenuDropdownClose(b,a(this))},handleSubmenuDrodownHoverEnter:function(){if("accordion"!==e.getSubmenuMode()&&c.resumeDropdownHover()!==!1){var d=a(this);e.showSubmenuDropdown(d),1==d.data("hover")&&e.hideSubmenuDropdown(d,!1)}},handleSubmenuDrodownHoverExit:function(){var d,f,g;c.resumeDropdownHover()!==!1&&"accordion"!==e.getSubmenuMode()&&(d=a(this),f=c.options.dropdown.timeout,g=setTimeout(function(){1==d.data("hover")&&e.hideSubmenuDropdown(d,!0)
},f),d.data("hover",!0),d.data("timeout",g))},handleSubmenuDropdownClick:function(b){if("accordion"!==e.getSubmenuMode()){var c=a(this).closest(".m-menu__item");0==c.hasClass("m-menu__item--hover")?(c.addClass("m-menu__item--open-dropdown"),e.showSubmenuDropdown(c)):(c.removeClass("m-menu__item--open-dropdown"),e.hideSubmenuDropdown(c,!0)),b.preventDefault()}},handleSubmenuDropdownClose:function(b,c){if("accordion"!==e.getSubmenuMode()){var f=d.find(".m-menu__item.m-menu__item--submenu.m-menu__item--hover");f.length>0&&c.hasClass("m-menu__toggle")===!1&&0===c.find(".m-menu__toggle").length&&f.each(function(){e.hideSubmenuDropdown(a(this),!0)})}},handleSubmenuAccordion:function(b){var d,f,g,h,i,j;return"dropdown"===e.getSubmenuMode()?(b.preventDefault(),void 0):(d=a(this),f=d.closest("li"),g=f.children(".m-menu__submenu, .m-menu__inner"),0!=g.parent(".m-menu__item--expanded").length,g.length>0&&(b.preventDefault(),h=c.options.accordion.slideSpeed,i=!1,f.hasClass("m-menu__item--open")===!1?(c.options.accordion.expandAll===!1&&(j=d.closest(".m-menu__nav, .m-menu__subnav").find("> .m-menu__item.m-menu__item--open.m-menu__item--submenu:not(.m-menu__item--expanded)"),j.each(function(){a(this).children(".m-menu__submenu").slideUp(h,function(){e.scrollToItem(d)}),a(this).removeClass("m-menu__item--open")}),j.length>0&&(i=!0)),i?(g.slideDown(h,function(){e.scrollToItem(d)}),f.addClass("m-menu__item--open")):(g.slideDown(h,function(){e.scrollToItem(d)}),f.addClass("m-menu__item--open"))):(g.slideUp(h,function(){e.scrollToItem(d)}),f.removeClass("m-menu__item--open"))),void 0)},scrollToItem:function(a){mUtil.isInResponsiveRange("desktop")&&c.options.accordion.autoScroll&&!d.data("menu-scrollable")&&mApp.scrollToViewport(a)},hideSubmenuDropdown:function(a,b){b&&a.removeClass("m-menu__item--hover"),a.removeData("hover");var c=a.data("timeout");a.removeData("timeout"),clearTimeout(c)},showSubmenuDropdown:function(b){d.find(".m-menu__item--submenu.m-menu__item--hover").each(function(){var c=a(this);b.is(c)||c.find(b).length>0||b.find(c).length>0||e.hideSubmenuDropdown(c,!0)}),e.adjustSubmenuDropdownArrowPos(b),b.addClass("m-menu__item--hover"),"accordion"===e.getSubmenuMode()&&c.options.accordion.autoScroll&&mApp.scrollTo(b.children(".m-menu__item--submenu"))},resize:function(){var f,g,h,i,k,l,m,o,p,q,r;if("dropdown"===e.getSubmenuMode())if(f=d.find("> .m-menu__nav > .m-menu__item--resize"),g=f.find("> .m-menu__submenu"),i=mUtil.getViewPort().width,d.find("> .m-menu__nav > .m-menu__item").length-1,"dropdown"==e.getSubmenuMode()&&(mUtil.isInResponsiveRange("desktop")&&mUtil.isset(c.options,"resize.desktop")&&(k=c.options.resize.desktop)&&i<=(h=f.data("menu-resize-desktop-breakpoint"))||mUtil.isInResponsiveRange("tablet")&&mUtil.isset(c.options,"resize.tablet")&&(k=c.options.resize.tablet)&&i<=(h=f.data("menu-resize-tablet-breakpoint"))||mUtil.isInResponsiveRange("mobile")&&mUtil.isset(c.options,"resize.mobile")&&(k=c.options.resize.mobile)&&i<=(h=f.data("menu-resize-mobile-breakpoint")))){if(l=g.find("> .m-menu__subnav > .m-menu__item").length,m=d.find("> .m-menu__nav > .m-menu__item:not(.m-menu__item--resize)").length,k.apply()===!0)l>0&&g.find("> .m-menu__subnav > .m-menu__item").each(function(){var b=a(this),c=g.find("> .m-menu__nav > .m-menu__item:not(.m-menu__item--resize)").length;return d.find("> .m-menu__nav > .m-menu__item:not(.m-menu__item--resize)").eq(c-1).after(b),k.apply()===!1?(b.appendTo(g.find("> .m-menu__subnav")),!1):(l--,m++,void 0)});else if(m>0)for(o=d.find("> .m-menu__nav > .m-menu__item:not(.m-menu__item--resize)"),p=o.length-1,q=0;q<o.length&&(r=a(o.get(p)),p--,k.apply()!==!0);q++)r.appendTo(g.find("> .m-menu__subnav")),l++,m--;l>0?f.show():f.hide()}else g.find("> .m-menu__subnav > .m-menu__item").each(function(){var b=g.find("> .m-menu__subnav > .m-menu__item").length;d.find("> .m-menu__nav > .m-menu__item").get(b).after(a(this))}),f.hide()},createSubmenuDropdownClickDropoff:function(b){var c=b.find("> .m-menu__submenu").css("zIndex")-1,d=a('<div class="m-menu__dropoff" style="background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: '+c+'"></div>');a("body").after(d),d.on("click",function(c){c.stopPropagation(),c.preventDefault(),b.removeClass("m-menu__item--hover"),a(this).remove()})},adjustSubmenuDropdownArrowPos:function(a){var e,b=a.find("> .m-menu__submenu > .m-menu__arrow.m-menu__arrow--adjust"),c=a.find("> .m-menu__submenu");a.find("> .m-menu__submenu > .m-menu__subnav"),b.length>0&&(a.children(".m-menu__link"),c.hasClass("m-menu__submenu--classic")||c.hasClass("m-menu__submenu--fixed")?c.hasClass("m-menu__submenu--right")?(e=a.outerWidth()/2,c.hasClass("m-menu__submenu--pull")&&(e+=Math.abs(parseInt(c.css("margin-right")))),e=c.width()-e):c.hasClass("m-menu__submenu--left")&&(e=a.outerWidth()/2,c.hasClass("m-menu__submenu--pull")&&(e+=Math.abs(parseInt(c.css("margin-left"))))):c.hasClass("m-menu__submenu--center")||c.hasClass("m-menu__submenu--full")?(e=a.offset().left-(mUtil.getViewPort().width-c.outerWidth())/2,e+=a.outerWidth()/2):c.hasClass("m-menu__submenu--left")||c.hasClass("m-menu__submenu--right"),b.css("left",e))},pauseDropdownHover:function(a){var b=new Date;c.pauseDropdownHoverTime=b.getTime()+a},resumeDropdownHover:function(){var a=new Date;return a.getTime()>c.pauseDropdownHoverTime?!0:!1},resetActiveItem:function(){d.find(".m-menu__item--active").each(function(){a(this).removeClass("m-menu__item--active"),a(this).children(".m-menu__submenu").css("display",""),a(this).parents(".m-menu__item--submenu").each(function(){a(this).removeClass("m-menu__item--open"),a(this).children(".m-menu__submenu").css("display","")})}),c.options.accordion.expandAll===!1&&d.find(".m-menu__item--open").each(function(){a(this).removeClass("m-menu__item--open")})},setActiveItem:function(b){e.resetActiveItem();var b=a(b);b.addClass("m-menu__item--active"),b.parents(".m-menu__item--submenu").each(function(){a(this).addClass("m-menu__item--open")})},getBreadcrumbs:function(b){var d,c=[];return b=a(b),d=b.children(".m-menu__link"),c.push({text:d.find(".m-menu__link-text").html(),title:d.attr("title"),href:d.attr("href")}),b.parents(".m-menu__item--submenu").each(function(){var b=a(this).children(".m-menu__link");c.push({text:b.find(".m-menu__link-text").html(),title:b.attr("title"),href:b.attr("href")})}),c.reverse(),c},getPageTitle:function(b){return b=a(b),b.children(".m-menu__link").find(".m-menu__link-text").html()},sync:function(){a(d).data("menu",c)},eventTrigger:function(a,b){for(i=0;i<c.events.length;i++){var d=c.events[i];if(d.name==a){if(1!=d.one)return d.handler.call(this,c,b);if(0==d.fired)return c.events[i].fired=!0,d.handler.call(this,c,b)}}},addEvent:function(a,b,d){c.events.push({name:a,handler:b,one:d,fired:!1}),e.sync()}};return e.run.apply(c,[b]),"undefined"!=typeof b&&a(window).resize(function(){e.run.apply(c,[b,!0])}),c.setActiveItem=function(a){return e.setActiveItem(a)},c.getBreadcrumbs=function(a){return e.getBreadcrumbs(a)},c.getPageTitle=function(a){return e.getPageTitle(a)},c.getSubmenuMode=function(){return e.getSubmenuMode()},c.pauseDropdownHover=function(a){e.pauseDropdownHover(a)},c.resumeDropdownHover=function(){return e.resumeDropdownHover()},c.on=function(a,b){return e.addEvent(a,b)},c},a.fn.mMenu.defaults={accordion:{slideSpeed:200,autoScroll:!0,expandAll:!0},dropdown:{timeout:500}},a(document).on("click",function(b){a('.m-menu__nav .m-menu__item.m-menu__item--submenu.m-menu__item--hover[data-menu-submenu-toggle="click"]').each(function(){var c=a(this).parent(".m-menu__nav").parent();menu=c.mMenu(),"dropdown"===menu.getSubmenuMode()&&0==a(b.target).is(c)&&0==c.find(a(b.target)).length&&c.find('.m-menu__item--submenu.m-menu__item--hover[data-menu-submenu-toggle="click"]').removeClass("m-menu__item--hover")})})}(jQuery),function(a){a.fn.mMessenger=function(b){var c={},d=a(this),e={run:function(a){return d.data("messenger")?c=d.data("messenger"):(e.init(a),e.build(),e.setup(),d.data("messenger",c)),c},init:function(b){c.events=[],c.scrollable=d.find(".m-messenger__scrollable"),c.options=a.extend(!0,{},a.fn.mMessenger.defaults,b),c.scrollable.length>0&&(c.scrollable.data("data-min-height")&&(c.options.minHeight=c.scrollable.data("data-min-height")),c.scrollable.data("data-max-height")&&(c.options.maxHeight=c.scrollable.data("data-max-height")))},build:function(){mUtil.isMobileDevice()},setup:function(){},eventTrigger:function(a){for(i=0;i<c.events.length;i++){var b=c.events[i];if(b.name==a){if(1!=b.one)return b.handler.call(this,c);if(0==b.fired)return c.events[i].fired=!0,b.handler.call(this,c)}}},addEvent:function(a,b,d){c.events.push({name:a,handler:b,one:d,fired:!1}),e.sync()}};return e.run.apply(this,[b]),c.on=function(a,b){return e.addEvent(a,b)},c.one=function(a,b){return e.addEvent(a,b,!0)},c},a.fn.mMessenger.defaults={}}(jQuery),function(a){a.fn.mOffcanvas=function(b){var c=this,d=a(this),e={run:function(a){return d.data("offcanvas")?c=d.data("offcanvas"):(e.init(a),e.build(),d.data("offcanvas",c)),c},init:function(b){c.events=[],c.options=a.extend(!0,{},a.fn.mOffcanvas.defaults,b),c.overlay,c.classBase=c.options.class,c.classShown=c.classBase+"--on",c.classOverlay=c.classBase+"-overlay",c.state=d.hasClass(c.classShown)?"shown":"hidden",c.close=c.options.close,c.options.toggle&&c.options.toggle.target?(c.toggleTarget=c.options.toggle.target,c.toggleState=c.options.toggle.state):(c.toggleTarget=c.options.toggle,c.toggleState="")},build:function(){a(c.toggleTarget).on("click",e.toggle),c.close&&a(c.close).on("click",e.hide)},sync:function(){a(d).data("offcanvas",c)},toggle:function(){"shown"==c.state?e.hide():e.show()},show:function(){if("shown"!=c.state){if(e.eventTrigger("beforeShow"),""!=c.toggleState&&a(c.toggleTarget).addClass(c.toggleState),a("body").addClass(c.classShown),d.addClass(c.classShown),c.state="shown",c.options.overlay){var b=a('<div class="'+c.classOverlay+'"></div>');d.after(b),c.overlay=b,c.overlay.on("click",function(a){a.stopPropagation(),a.preventDefault(),e.hide()})}return e.eventTrigger("afterShow"),c}},hide:function(){return"hidden"!=c.state?(e.eventTrigger("beforeHide"),""!=c.toggleState&&a(c.toggleTarget).removeClass(c.toggleState),a("body").removeClass(c.classShown),d.removeClass(c.classShown),c.state="hidden",c.options.overlay&&c.overlay.remove(),e.eventTrigger("afterHide"),c):void 0},eventTrigger:function(a){for(i=0;i<c.events.length;i++){var b=c.events[i];if(b.name==a){if(1!=b.one)return b.handler.call(this,c);if(0==b.fired)return c.events[i].fired=!0,b.handler.call(this,c)}}},addEvent:function(a,b,d){c.events.push({name:a,handler:b,one:d,fired:!1}),e.sync()}};return e.run.apply(this,[b]),c.hide=function(){return e.hide()},c.show=function(){return e.show()},c.on=function(a,b){return e.addEvent(a,b)},c.one=function(a,b){return e.addEvent(a,b,!0)},c},a.fn.mOffcanvas.defaults={}}(jQuery),function(a){a.fn.mPortlet=function(b){var c={},d=a(this),e={run:function(a){return d.data("portlet-object")?c=d.data("portlet-object"):(e.init(a),e.build(),d.data("portlet-object",c)),c},init:function(b){c.options=a.extend(!0,{},a.fn.mPortlet.defaults,b),c.events=[],c.eventOne=!1,0!==d.find("> .m-portlet__body").length?c.body=d.find("> .m-portlet__body"):0!==d.find("> .m-form").length&&(c.body=d.find("> .m-form"))},build:function(){var b,c,f,a=d.find("> .m-portlet__head [data-portlet-tool=remove]");1===a.length&&a.click(function(a){a.preventDefault(),e.remove()}),b=d.find("> .m-portlet__head [data-portlet-tool=reload]"),1===b.length&&b.click(function(a){a.preventDefault(),e.reload()}),c=d.find("> .m-portlet__head [data-portlet-tool=toggle]"),1===c.length&&c.click(function(a){a.preventDefault(),e.toggle()}),f=d.find("> .m-portlet__head [data-portlet-tool=fullscreen]"),1===f.length&&f.click(function(a){a.preventDefault(),e.fullscreen()}),e.setupTooltips()},remove:function(){e.eventTrigger("beforeRemove")!==!1&&(a("body").hasClass("m-portlet--fullscreen")&&d.hasClass("m-portlet--fullscreen")&&e.fullscreen("off"),e.removeTooltips(),d.remove(),e.eventTrigger("afterRemove"))},setContent:function(a){a&&c.body.html(a)},getBody:function(){return c.body},getSelf:function(){return d},setupTooltips:function(){var b,e,f,g,h,i;c.options.tooltips&&(b=d.hasClass("collapsed"),e=a("body").hasClass("m-portlet--fullscreen")&&d.hasClass("m-portlet--fullscreen"),f=d.find("> .m-portlet__head [data-portlet-tool=remove]"),1===f.length&&(f.attr("title",c.options.tools.remove),f.data("placement",e?"bottom":"top"),f.data("offset",e?"0,10px,0,0":"0,5px"),f.tooltip("dispose"),mApp.initTooltip(f)),g=d.find("> .m-portlet__head [data-portlet-tool=reload]"),1===g.length&&(g.attr("title",c.options.tools.reload),g.data("placement",e?"bottom":"top"),g.data("offset",e?"0,10px,0,0":"0,5px"),g.tooltip("dispose"),mApp.initTooltip(g)),h=d.find("> .m-portlet__head [data-portlet-tool=toggle]"),1===h.length&&(b?h.attr("title",c.options.tools.toggle.expand):h.attr("title",c.options.tools.toggle.collapse),h.data("placement",e?"bottom":"top"),h.data("offset",e?"0,10px,0,0":"0,5px"),h.tooltip("dispose"),mApp.initTooltip(h)),i=d.find("> .m-portlet__head [data-portlet-tool=fullscreen]"),1===i.length&&(e?i.attr("title",c.options.tools.fullscreen.off):i.attr("title",c.options.tools.fullscreen.on),i.data("placement",e?"bottom":"top"),i.data("offset",e?"0,10px,0,0":"0,5px"),i.tooltip("dispose"),mApp.initTooltip(i)))},removeTooltips:function(){var a,b,e,f;c.options.tooltips&&(a=d.find("> .m-portlet__head [data-portlet-tool=remove]"),1===a.length&&a.tooltip("dispose"),b=d.find("> .m-portlet__head [data-portlet-tool=reload]"),1===b.length&&b.tooltip("dispose"),e=d.find("> .m-portlet__head [data-portlet-tool=toggle]"),1===e.length&&e.tooltip("dispose"),f=d.find("> .m-portlet__head [data-portlet-tool=fullscreen]"),1===f.length&&f.tooltip("dispose"))},reload:function(){e.eventTrigger("reload")},toggle:function(a){if("collapse"===a||d.hasClass("m-portlet--collapse")||d.hasClass("m-portlet--collapsed")){if(e.eventTrigger("beforeExpand")===!1)return;d.removeClass("m-portlet--collapse"),d.removeClass("m-portlet--collapsed"),e.setupTooltips(),c.body.slideDown(c.options.bodyToggleSpeed,function(){e.eventTrigger("afterExpand")})}else{if(e.eventTrigger("beforeCollapse")===!1)return;d.addClass("m-portlet--collapse"),e.setupTooltips(),c.body.slideUp(c.options.bodyToggleSpeed,function(){e.eventTrigger("afterCollapse")})}},fullscreen:function(b){"off"===b||a("body").hasClass("m-portlet--fullscreen")&&d.hasClass("m-portlet--fullscreen")?(e.eventTrigger("beforeFullscreenOff"),a("body").removeClass("m-portlet--fullscreen"),d.removeClass("m-portlet--fullscreen"),e.setupTooltips(),e.eventTrigger("afterFullscreenOff")):(e.eventTrigger("beforeFullscreenOn"),d.addClass("m-portlet--fullscreen"),a("body").addClass("m-portlet--fullscreen"),e.setupTooltips(),e.eventTrigger("afterFullscreenOn"))},sync:function(){a(d).data("portlet",c)},eventTrigger:function(a){for(i=0;i<c.events.length;i++){var b=c.events[i];if(b.name==a){if(1!=b.one)return b.handler.call(this,c);if(0==b.fired)return c.events[i].fired=!0,b.handler.call(this,c)}}},addEvent:function(a,b,d){return c.events.push({name:a,handler:b,one:d,fired:!1}),e.sync(),c}};return e.run.apply(this,[b]),c.remove=function(){return e.remove(html)},c.reload=function(){return e.reload()},c.setContent=function(a){return e.setContent(a)},c.collapse=function(){return e.toggle("collapse")},c.expand=function(){return e.toggle("expand")},c.fullscreen=function(){return e.fullscreen("on")},c.unFullscreen=function(){return e.fullscreen("off")},c.getBody=function(){return e.getBody()},c.getSelf=function(){return e.getSelf()},c.on=function(a,b){return e.addEvent(a,b)},c.one=function(a,b){return e.addEvent(a,b,!0)},c},a.fn.mPortlet.defaults={bodyToggleSpeed:400,tooltips:!0,tools:{toggle:{collapse:"Collapse",expand:"Expand"},reload:"Reload",remove:"Remove",fullscreen:{on:"Fullscreen",off:"Exit Fullscreen"}}}}(jQuery),function(a){a.fn.mQuicksearch=function(b){var c=this,d=a(this),e={run:function(a){return d.data("qs")?c=d.data("qs"):(e.init(a),e.build(),d.data("qs",c)),c},init:function(b){c.options=a.extend(!0,{},a.fn.mQuicksearch.defaults,b),c.form=d.find("form"),c.input=a(c.options.input),c.iconClose=a(c.options.iconClose),"default"==c.options.type&&(c.iconSearch=a(c.options.iconSearch),c.iconCancel=a(c.options.iconCancel)),c.dropdown=d.mDropdown({mobileOverlay:!1}),c.cancelTimeout,c.processing=!1},build:function(){c.input.keyup(e.handleSearch),"default"==c.options.type?(c.input.focus(e.showDropdown),c.iconCancel.click(e.handleCancel),c.iconSearch.click(function(){mUtil.isInResponsiveRange("tablet-and-mobile")&&(a("body").addClass("m-header-search--mobile-expanded"),c.input.focus())}),c.iconClose.click(function(){mUtil.isInResponsiveRange("tablet-and-mobile")&&(a("body").removeClass("m-header-search--mobile-expanded"),e.closeDropdown())})):"dropdown"==c.options.type&&(c.dropdown.on("afterShow",function(){c.input.focus()}),c.iconClose.click(e.closeDropdown))},handleSearch:function(){var f=c.input.val();0===f.length&&(c.dropdown.hide(),e.handleCancelIconVisibility("on"),e.closeDropdown(),d.removeClass(c.options.hasResultClass)),f.length<c.options.minLength||1==c.processing||(c.processing=!0,c.form.addClass(c.options.spinner),e.handleCancelIconVisibility("off"),a.ajax({url:c.options.source,data:{query:f},dataType:"html",success:function(a){c.processing=!1,c.form.removeClass(c.options.spinner),e.handleCancelIconVisibility("on"),c.dropdown.setContent(a).show(),d.addClass(c.options.hasResultClass)},error:function(a){c.processing=!1,c.form.removeClass(c.options.spinner),e.handleCancelIconVisibility("on"),c.dropdown.setContent(c.options.templates.error.apply(c,a)).show(),d.addClass(c.options.hasResultClass)}}))},handleCancelIconVisibility:function(a){"dropdown"!=c.options.type&&"on"==a&&(0===c.input.val().length?(c.iconCancel.css("visibility","hidden"),c.iconClose.css("visibility","hidden")):(clearTimeout(c.cancelTimeout),c.cancelTimeout=setTimeout(function(){c.iconCancel.css("visibility","visible"),c.iconClose.css("visibility","visible")},500)))},handleCancel:function(){c.input.val(""),c.iconCancel.css("visibility","hidden"),d.removeClass(c.options.hasResultClass),e.closeDropdown()},closeDropdown:function(){c.dropdown.hide()},showDropdown:function(a){0==c.dropdown.isShown()&&c.input.val().length>c.options.minLength&&0==c.processing&&(c.dropdown.show(),a.preventDefault(),a.stopPropagation())}};return e.run.apply(c,[b]),c.test=function(){},c},a.fn.mQuicksearch.defaults={minLength:1,maxHeight:300}}(jQuery),function(a){a.fn.mScrollTop=function(b){var c=this,d=a(this),e={run:function(a){return d.data("scrollTop")?c=d.data("scrollTop"):(e.init(a),e.build(),d.data("scrollTop",c)),c},init:function(b){c.element=d,c.events=[],c.options=a.extend(!0,{},a.fn.mScrollTop.defaults,b)},build:function(){navigator.userAgent.match(/iPhone|iPad|iPod/i)?a(window).bind("touchend touchcancel touchleave",function(){e.handle()}):a(window).scroll(function(){e.handle()}),d.on("click",e.scroll)},sync:function(){a(d).data("scrollTop",c)},handle:function(){var b=a(window).scrollTop();b>c.options.offset?a("body").addClass("m-scroll-top--shown"):a("body").removeClass("m-scroll-top--shown")},scroll:function(b){b.preventDefault(),a("html, body").animate({scrollTop:0},c.options.speed)},eventTrigger:function(a){for(i=0;i<c.events.length;i++){var b=c.events[i];if(b.name==a){if(1!=b.one)return b.handler.call(this,c);if(0==b.fired)return c.events[i].fired=!0,b.handler.call(this,c)}}},addEvent:function(a,b,d){c.events.push({name:a,handler:b,one:d,fired:!1}),e.sync()}};return e.run.apply(this,[b]),c.on=function(a,b){return e.addEvent(a,b)},c.one=function(a,b){return e.addEvent(a,b,!0)},c},a.fn.mScrollTop.defaults={offset:300,speed:600}}(jQuery),function(a){a.fn.mToggle=function(b){var c=this,d=a(this),e={run:function(a){return d.data("toggle")?c=d.data("toggle"):(e.init(a),e.build(),d.data("toggle",c)),c},init:function(b){c.element=d,c.events=[],c.options=a.extend(!0,{},a.fn.mToggle.defaults,b),c.target=a(c.options.target),c.targetState=c.options.targetState,c.togglerState=c.options.togglerState,c.state=mUtil.hasClasses(c.target,c.targetState)?"on":"off"},build:function(){d.on("click",e.toggle)},sync:function(){a(d).data("toggle",c)},toggle:function(){"off"==c.state?e.on():e.off()},on:function(){return e.eventTrigger("beforeOn"),c.target.addClass(c.targetState),c.togglerState&&d.addClass(c.togglerState),c.state="on",e.eventTrigger("afterOn"),c},off:function(){return e.eventTrigger("beforeOff"),c.target.removeClass(c.targetState),c.togglerState&&d.removeClass(c.togglerState),c.state="off",e.eventTrigger("afterOff"),c},eventTrigger:function(a){for(i=0;i<c.events.length;i++){var b=c.events[i];if(b.name==a){if(1!=b.one)return b.handler.call(this,c);if(0==b.fired)return c.events[i].fired=!0,b.handler.call(this,c)}}},addEvent:function(a,b,d){c.events.push({name:a,handler:b,one:d,fired:!1}),e.sync()}};return e.run.apply(this,[b]),c.on=function(a,b){return e.addEvent(a,b)},c.one=function(a,b){return e.addEvent(a,b,!0)},c},a.fn.mToggle.defaults={togglerState:"",targetState:""}}(jQuery),mLayout=function(){var a,b,c,d,e=function(){var a=$(".m-header"),b={offset:{},minimize:{}};"hide"==a.data("minimize-mobile")?(b.minimize.mobile={},b.minimize.mobile.on="m-header--hide",b.minimize.mobile.off="m-header--show"):b.minimize.mobile=!1,"minimize"==a.data("minimize")?(b.minimize.desktop={},b.minimize.desktop.on="m-header--minimize-off",b.minimize.desktop.off="m-header--minimize-off"):"hide"==a.data("minimize")?(b.minimize.desktop={},b.minimize.desktop.on="m-header--hide",b.minimize.desktop.off="m-header--show"):b.minimize.desktop=!1,a.data("minimize-offset")&&(b.offset.desktop=a.data("minimize-offset")),a.data("minimize-mobile-offset")&&(b.offset.mobile=a.data("minimize-mobile-offset")),a.mHeader(b)},f=function(){d=$("#m_header_menu").mOffcanvas({"class":"m-aside-header-menu-mobile",overlay:!0,close:"#m_aside_header_menu_mobile_close_btn",toggle:{target:"#m_aside_header_menu_mobile_toggle",state:"m-brand__toggler--active"}}),a=$("#m_header_menu").mMenu({submenu:{desktop:"dropdown",tablet:"accordion",mobile:"accordion"},resize:{desktop:function(){var a=$("#m_header_nav").width(),b=$("#m_header_menu_container").width(),c=$("#m_header_topbar").width(),d=20;return console.log("nav:"+a+"=> menu:"+b+"+"+c),b+c+d>a?!1:!0}}})},g=function(){function d(a){if(mUtil.isInResponsiveRange("tablet-and-mobile"))return mApp.destroyScroller(a),void 0;var b=mUtil.getViewPort().height-$(".m-header").outerHeight()-(0!=$(".m-aside-left .m-aside__header").length?$(".m-aside-left .m-aside__header").outerHeight():0)-(0!=$(".m-aside-left .m-aside__footer").length?$(".m-aside-left .m-aside__footer").outerHeight():0);mApp.initScroller(a,{height:b})}var a=$("#m_ver_menu"),c={submenu:{desktop:{"default":1==a.data("menu-dropdown")?"dropdown":"accordion",state:{body:"m-aside-left--minimize",mode:"dropdown"}},tablet:"accordion",mobile:"accordion"},accordion:{autoScroll:!0,expandAll:!1}};b=a.mMenu(c),b.data("menu-scrollable")&&(d(b),mUtil.addResizeHandler(function(){d(b)}))},h=function(){var a=$("#m_aside_left").hasClass("m-aside-left--offcanvas-default")?"m-aside-left--offcanvas-default":"m-aside-left";c=$("#m_aside_left").mOffcanvas({"class":a,overlay:!0,close:"#m_aside_left_close_btn",toggle:{target:"#m_aside_left_offcanvas_toggle",state:"m-brand__toggler--active"}})},i=function(){$("#m_aside_left_minimize_toggle").mToggle({target:"body",targetState:"m-brand--minimize m-aside-left--minimize",togglerState:"m-brand__toggler--active"}).on("toggle",function(){a.pauseDropdownHover(800),b.pauseDropdownHover(800)}),$("#m_aside_left_hide_toggle").mToggle({target:"body",targetState:"m-aside-left--hide",togglerState:"m-brand__toggler--active"}).on("toggle",function(){a.pauseDropdownHover(800),b.pauseDropdownHover(800)})},j=function(){$("#m_aside_header_topbar_mobile_toggle").click(function(){$("body").toggleClass("m-topbar--on")}),setInterval(function(){$("#m_topbar_notification_icon .m-nav__link-icon").addClass("m-animate-shake"),$("#m_topbar_notification_icon .m-nav__link-badge").addClass("m-animate-blink")},3e3),setInterval(function(){$("#m_topbar_notification_icon .m-nav__link-icon").removeClass("m-animate-shake"),$("#m_topbar_notification_icon .m-nav__link-badge").removeClass("m-animate-blink")},6e3)},k=function(){var a=$("#m_quicksearch");a.mQuicksearch({type:a.data("search-type"),source:"",spinner:"m-loader m-loader--skin-light m-loader--right",input:"#m_quicksearch_input",iconClose:"#m_quicksearch_close",iconCancel:"#m_quicksearch_cancel",iconSearch:"#m_quicksearch_search",hasResultClass:"m-list-search--has-result",minLength:1,templates:{error:function(){return'<div class="m-search-results m-search-results--skin-light"><span class="m-search-result__message">Something went wrong</div></div>'}}})},l=function(){$('[data-toggle="m-scroll-top"]').mScrollTop({offset:300,speed:600})};return{init:function(){this.initHeader(),this.initAside()},initHeader:function(){e(),f(),j(),k(),l()},initAside:function(){h(),i(),g()},getAsideMenu:function(){return b},closeMobileAsideMenuOffcanvas:function(){mUtil.isMobileDevice()&&c.hide()},closeMobileHorMenuOffcanvas:function(){mUtil.isMobileDevice()&&d.hide()}}}(),$(document).ready(function(){mUtil.isAngularVersion()===!1&&mLayout.init()}),mQuickSidebar=function(){var a=$("#m_quick_sidebar"),b=$("#m_quick_sidebar_tabs"),c=$("#m_quick_sidebar_close"),d=$("#m_quick_sidebar_toggle"),e=a.find(".m-quick-sidebar__content"),f=function(){var c=function(){var c=$("#m_quick_sidebar_tabs_messenger"),d=c.find(".m-messenger__messages"),e=a.outerHeight(!0)-b.outerHeight(!0)-c.find(".m-messenger__form").outerHeight(!0)-120;d.css("height",e),mApp.initScroller(d,{})};c(),mUtil.addResizeHandler(c)},g=function(){var a=function(){var a=$("#m_quick_sidebar_tabs_settings"),c=mUtil.getViewPort().height-b.outerHeight(!0)-60;a.css("height",c),mApp.initScroller(a,{})};a(),mUtil.addResizeHandler(a)},h=function(){var a=function(){var a=$("#m_quick_sidebar_tabs_logs"),c=mUtil.getViewPort().height-b.outerHeight(!0)-60;a.css("height",c),mApp.initScroller(a,{})};a(),mUtil.addResizeHandler(a)},i=function(){f(),g(),h()},j=function(){a.mOffcanvas({"class":"m-quick-sidebar",close:c,toggle:d}),a.mOffcanvas().one("afterShow",function(){mApp.block(a),setTimeout(function(){mApp.unblock(a),e.removeClass("m--hide"),i()},1e3)})};return{init:function(){j()}}}(),$(document).ready(function(){mQuickSidebar.init()});